(()=>{var e={};e.id=149,e.ids=[149],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},55493:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(63836),t(55512),t(90996);var s=t(30170),l=t(45002),r=t(83876),i=t.n(r),n=t(66299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(a,o);let d=["",{children:["profile_employer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63836)),"D:\\tugas\\magang\\frontend-arkwork1\\src\\app\\profile_employer\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,55512)),"D:\\tugas\\magang\\frontend-arkwork1\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\tugas\\magang\\frontend-arkwork1\\src\\app\\profile_employer\\page.tsx"],m="/profile_employer/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/profile_employer/page",pathname:"/profile_employer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},32769:(e,a,t)=>{Promise.resolve().then(t.bind(t,34526))},34526:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var s=t(97247),l=t(28964),r=t(79906),i=t(90002),n=t(9317);function o(e){let a=(e??"").trim();return a?/^https?:\/\//i.test(a)?a:`https://${a}`:""}function d(e){if(!e)return"";try{return new URL(e).toString()}catch{return`${i.Sg}${e.startsWith("/")?"":"/"}${e}`}}function c(){let{user:e}=(0,n.a)(),[a,t]=(0,l.useState)(!0),[c,h]=(0,l.useState)(!1),[g,b]=(0,l.useState)(""),[v,f]=(0,l.useState)(""),[j,k]=(0,l.useState)(""),[N,w]=(0,l.useState)(""),[y,P]=(0,l.useState)(""),[_,C]=(0,l.useState)(""),[S,L]=(0,l.useState)(""),[M,D]=(0,l.useState)(void 0),[q,G]=(0,l.useState)({instagram:"",linkedin:"",twitter:"",websitePublic:"",facebook:"",youtube:""}),[A,I]=(0,l.useState)(null),W=(e,a="Berhasil")=>I({type:"ok",title:a,message:e}),E=(e,a="Gagal")=>I({type:"err",title:a,message:e}),O=(0,l.useRef)(null);async function B(a){if(a&&a.type.startsWith("image/")){if(!g){D(URL.createObjectURL(a));return}D(URL.createObjectURL(a));try{let t=new FormData;t.append("employerId",g),t.append("file",a);let s=await (0,i.hF)("/api/employers/profile/logo",t);if(s?.url){D(s.url);try{e?.email&&(localStorage.setItem(`ark_nav_avatar:${e.email}`,d(s.url)),window.dispatchEvent(new Event("ark:avatar-updated")))}catch{}W("Logo berhasil diunggah.")}else E("Gagal menyimpan logo.")}catch(e){console.error("upload logo error:",e),E("Gagal mengunggah logo. Coba lagi.")}}}async function R(e){if(e.preventDefault(),!c){h(!0);try{if(!g)throw Error("Missing employerId");await (0,i.hi)("/api/employers/step2",{method:"POST",json:{employerId:g,about:y||void 0,hqCity:_||void 0,linkedin:o(q.linkedin)||void 0,instagram:o(q.instagram)||void 0,twitter:o(q.twitter)||void 0}});let e=o(N);await (0,i.hi)("/api/employers/update-basic",{method:"POST",json:{employerId:g,displayName:j?.trim()||void 0,website:e||null}}),W("Profil berhasil disimpan.")}catch(e){console.error("save profile error:",e),E("Gagal menyimpan profil. Periksa kembali isian Anda.")}finally{h(!1)}}}return a?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[(0,s.jsxs)("div",{className:"mx-auto max-w-6xl px-4 pt-10 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"h-6 w-56 rounded bg-slate-200 animate-pulse dark:bg-slate-800"}),s.jsx("div",{className:"mt-2 h-4 w-96 rounded bg-slate-200 animate-pulse dark:bg-slate-800"})]}),s.jsx("main",{className:"mx-auto max-w-6xl px-4 py-10 sm:px-6 lg:px-8",children:s.jsx("div",{className:"h-40 rounded-2xl border border-slate-200 bg-white shadow-sm animate-pulse dark:border-slate-800 dark:bg-slate-900"})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[(0,s.jsxs)("header",{className:"mx-auto max-w-6xl px-4 pt-10 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"mb-2 text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-50",children:"Profil Perusahaan"}),s.jsx("p",{className:"mb-8 max-w-2xl text-base text-slate-600 dark:text-slate-300",children:"Lengkapi informasi perusahaan Anda agar terlihat lebih profesional bagi calon kandidat."})]}),s.jsx("main",{className:"mx-auto max-w-6xl px-4 pb-24 sm:px-6 lg:px-8",children:s.jsx("form",{onSubmit:R,className:"grid grid-cols-1 gap-8",children:(0,s.jsxs)("section",{className:"space-y-8",children:[s.jsx(m,{title:"Logo Perusahaan",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"relative overflow-hidden rounded-2xl ring-1 ring-slate-200 dark:ring-slate-700",children:s.jsx("div",{className:"h-24 w-24 bg-slate-50 dark:bg-slate-800 grid place-items-center",children:M?s.jsx("img",{src:d(M),alt:"Logo",className:"h-full w-full object-cover"}):s.jsx("span",{className:"text-xs text-slate-500",children:"No logo"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("label",{htmlFor:"logo-input",onDrop:function(e){e.preventDefault();let a=e.dataTransfer.files?.[0];a&&B(a)},onDragOver:e=>e.preventDefault(),className:"group block cursor-pointer rounded-xl border border-dashed border-slate-300 bg-slate-50/70 px-4 py-4 text-center text-sm text-slate-600 transition hover:bg-white hover:shadow-sm dark:border-slate-700 dark:bg-slate-800/40 dark:text-slate-300",children:[s.jsx("div",{className:"mb-1 font-medium",children:"Unggah Logo"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Seret & lepas berkas ke sini atau klik untuk memilih"})]}),s.jsx("input",{id:"logo-input",ref:O,type:"file",accept:"image/*",className:"sr-only",onChange:e=>{let a=e.target.files?.[0];a&&B(a)}}),s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"PNG/JPG, rasio 1:1, max ~2MB."})]})]})}),s.jsx(m,{title:"Informasi Utama",children:(0,s.jsxs)("div",{className:"grid gap-5 sm:grid-cols-2",children:[s.jsx(u,{label:"Nama Perusahaan",children:s.jsx("input",{value:j,onChange:e=>k(e.target.value),className:"ui-input",placeholder:"e.g. ArkWork Indonesia, Inc."})}),s.jsx(u,{label:"Email Perusahaan (admin)",children:s.jsx("input",{value:v,readOnly:!0,className:"ui-input bg-slate-50 dark:bg-slate-800/40",placeholder:"hr@company.com"})}),s.jsx(u,{label:"Website (opsional)",children:s.jsx("input",{value:N,onChange:e=>w(e.target.value),className:"ui-input",placeholder:"company.com"})}),s.jsx(u,{className:"sm:col-span-2",label:"Tentang Perusahaan",children:s.jsx("textarea",{value:y,onChange:e=>P(e.target.value),className:"ui-input min-h-[120px]",placeholder:"Visi, misi, budaya kerja, dsb."})})]})}),s.jsx(m,{title:"Alamat Kantor",children:(0,s.jsxs)("div",{className:"grid gap-5 sm:grid-cols-2",children:[s.jsx(u,{label:"Alamat",children:s.jsx("textarea",{value:S,onChange:e=>L(e.target.value),className:"ui-input min-h-[80px]",placeholder:"Jalan, nomor, dll."})}),s.jsx(u,{label:"Kota / Kabupaten",children:s.jsx("input",{value:_,onChange:e=>C(e.target.value),className:"ui-input",placeholder:"Jakarta Selatan"})})]})}),s.jsx(m,{title:"Sosial Media",children:(0,s.jsxs)("div",{className:"grid gap-5 sm:grid-cols-2",children:[s.jsx(u,{label:"LinkedIn",children:s.jsx("input",{value:q.linkedin,onChange:e=>G({...q,linkedin:e.target.value}),className:"ui-input",placeholder:"linkedin.com/company/..."})}),s.jsx(u,{label:"Instagram",children:s.jsx("input",{value:q.instagram,onChange:e=>G({...q,instagram:e.target.value}),className:"ui-input",placeholder:"instagram.com/..."})}),s.jsx(u,{label:"Twitter/X",children:s.jsx("input",{value:q.twitter,onChange:e=>G({...q,twitter:e.target.value}),className:"ui-input",placeholder:"x.com/..."})}),s.jsx(u,{label:"Website (Publik)",children:s.jsx("input",{value:q.websitePublic,onChange:e=>G({...q,websitePublic:e.target.value}),className:"ui-input",placeholder:"https://company.com"})}),s.jsx(u,{label:"Facebook",children:s.jsx("input",{value:q.facebook,onChange:e=>G({...q,facebook:e.target.value}),className:"ui-input",placeholder:"facebook.com/..."})}),s.jsx(u,{label:"Youtube",children:s.jsx("input",{value:q.youtube,onChange:e=>G({...q,youtube:e.target.value}),className:"ui-input",placeholder:"youtube.com/@..."})})]})}),(0,s.jsxs)("div",{className:"flex flex-col-reverse gap-3 sm:flex-row sm:justify-between",children:[s.jsx(r.default,{href:"/auth/signup",className:"btn-secondary",children:"Kembali"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>W("Draft disimpan secara lokal (contoh)."),children:"Simpan Draft"}),(0,s.jsxs)(p,{type:"submit",loading:c,children:[(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V7l4-4h9l4 4v12a2 2 0 0 1-2 2Z"}),s.jsx("path",{d:"M9 21v-8h6v8M9 3v4h6V3"})]}),c?"Menyimpanâ€¦":"Simpan Profil"]})]})]})]})})}),A&&s.jsx(x,{type:A.type,title:A.title,message:A.message,onClose:()=>I(null)})]})}function m({title:e,action:a,children:t}){return(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200/70 bg-white/80 p-6 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:border-slate-800/60 dark:bg-slate-900/60",children:[(e||a)&&(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[e&&s.jsx("h2",{className:"text-lg font-semibold tracking-tight text-slate-900 dark:text-slate-50",children:e}),a]}),t]})}function u({label:e,children:a,className:t}){return(0,s.jsxs)("label",{className:`block ${t??""}`,children:[s.jsx("div",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-200",children:e}),a]})}function p({children:e,loading:a,...t}){return(0,s.jsxs)("button",{...t,disabled:a||t.disabled,className:"inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold text-white shadow-sm bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-70 disabled:cursor-not-allowed",children:[a&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",className:"opacity-25"}),s.jsx("path",{d:"M12 2a10 10 0 0 1 10 10"})]}),e]})}function x({type:e,title:a="ok"===e?"Berhasil":"Gagal",message:t,onClose:l}){return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:l}),(0,s.jsxs)("div",{className:"relative m-4 w-full max-w-sm translate-y-0 animate-[fadeIn_.2s_ease] rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl dark:border-slate-700 dark:bg-slate-900",children:[s.jsx("div",{className:"mx-auto mb-3",children:s.jsx("ok"===e?()=>s.jsx("div",{className:"grid h-12 w-12 place-items-center rounded-full bg-emerald-100 text-emerald-600",children:s.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",children:s.jsx("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):()=>s.jsx("div",{className:"grid h-12 w-12 place-items-center rounded-full bg-rose-100 text-rose-600",children:s.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",children:s.jsx("path",{d:"M12 9v4M12 17h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),{})}),s.jsx("h3",{className:"text-center text-lg font-semibold text-slate-900 dark:text-slate-50",children:a}),s.jsx("p",{className:"mt-2 text-center text-sm text-slate-600 dark:text-slate-300 whitespace-pre-line",children:t}),(0,s.jsxs)("div",{className:"mt-5 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[s.jsx("button",{onClick:l,className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-800/80",children:"Tutup"}),"ok"===e&&s.jsx("button",{onClick:l,className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"Oke"})]})]})]})}},63836:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(45347).createProxy)(String.raw`D:\tugas\magang\frontend-arkwork1\src\app\profile_employer\page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[285,59,785],()=>t(55493));module.exports=s})();