(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},77425:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),r(94011),r(55512),r(90996);var s=r(30170),a=r(45002),n=r(83876),l=r.n(n),i=r(66299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94011)),"D:\\tugas\\magang\\frontend-arkwork1\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,55512)),"D:\\tugas\\magang\\frontend-arkwork1\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\tugas\\magang\\frontend-arkwork1\\src\\app\\dashboard\\page.tsx"],x="/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},72624:(e,t,r)=>{Promise.resolve().then(r.bind(r,5530))},5530:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(97247),a=r(79906),n=r(28964),l=r(9317),i=r(34178),o=r(26009),d=r(57958);function c(e){return s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:s.jsx("path",{d:"M5 12h14M13 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function x(e){return s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:s.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 3-9 6v1h18v-1c0-3-4-6-9-6Z",stroke:"currentColor",strokeWidth:"2"})})}function m(e){return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[s.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2"}),s.jsx("path",{d:"M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"currentColor",strokeWidth:"2"})]})}function u(e){return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:[s.jsx("path",{d:"M7 3h6l4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:"2"}),s.jsx("path",{d:"M13 3v4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function h(e){return s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",...e,children:s.jsx("path",{d:"m5 13 4 4 10-10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function p({w:e="100%"}){return s.jsx("div",{className:"h-3 rounded bg-neutral-200 animate-pulse",style:{width:e}})}async function g(e,t){try{let r=await new Promise((e,t)=>{t(Error("IndexedDB can only be accessed in the browser."))}),s=await new Promise(s=>{let a=r.transaction(e,"readonly"),n=a.objectStore(e).getKey(t);n.onsuccess=()=>s(!!n.result),n.onerror=()=>{console.error(`IndexedDB getKey error in store ${e}:`,n.error),s(!1)},a.onerror=()=>{console.error(`IndexedDB transaction error in store ${e}:`,a.error),s(!1)}});return r.close(),s}catch(t){return console.error(`IndexedDB access error for store ${e}:`,t),!1}}function f(){(0,i.useRouter)();let{user:e,loading:t}=(0,l.a)(),r=(0,o.T_)("dashboard"),f=(0,d.bU)(),j=(0,n.useRef)(!1),[b,w]=(0,n.useState)(""),[N,v]=(0,n.useState)(!1),[k,y]=(0,n.useState)(!1),[P,S]=(0,n.useState)(0),[C,D]=(0,n.useState)(!1),[_,B]=(0,n.useState)(0),[L,$]=(0,n.useState)([]),M=(0,n.useMemo)(()=>new Intl.DateTimeFormat(f,{year:"numeric",month:"short",day:"2-digit"}),[f]),q=(0,n.useCallback)(()=>{try{return[]}catch{return[]}},[]),A=(0,n.useCallback)(e=>{try{return[]}catch{return[]}},[]);return((0,n.useCallback)(async t=>{let s;console.log("[refreshProfileStats] Refreshing for email:",t);let a=q().find(e=>e.email===t);console.log("[refreshProfileStats] Found user data in localStorage:",a);let n=(a?.name||e?.name||"").trim();w(n||r("fallback.there"));let l=(a?.profile?.skills??"").split(",").map(e=>e.trim()).filter(Boolean);S(l.length),D(!!n&&!!a?.profile?.location&&!!a?.profile?.phone);let i=a?.profile?.cv?.key,o=!1;i&&(o=await g("cv_files",i)),v(o),console.log(`[refreshProfileStats] CV Check (key: ${i}):`,o);let d=A(t);$(d),console.log("[refreshProfileStats] Accepted Apps:",d);let c=Math.round((s=0+(n?1:0)+(a?.profile?.location?1:0)+(a?.profile?.phone?1:0)+(o||k?1:0)+(l.length>=3?1:0))/5*100);B(c),console.log(`[refreshProfileStats] Progress: ${c}% (Score: ${s}/5)`)},[q,A,r,e?.name]),t||!e&&j.current)?(console.log("[Dashboard Render] Showing loading skeleton..."),s.jsx("div",{className:"min-h-screen bg-neutral-50 py-10",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"rounded-3xl bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-700 p-6 shadow-lg animate-pulse",children:(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 w-32 rounded bg-neutral-700/70"}),s.jsx("div",{className:"h-8 w-56 rounded bg-neutral-700/70"}),s.jsx("div",{className:"h-4 w-72 rounded bg-neutral-700/60"})]})}),(0,s.jsxs)("div",{className:"mt-8 grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm animate-pulse",children:[s.jsx("div",{className:"mb-4 h-6 w-40 rounded bg-neutral-200"}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p,{}),s.jsx(p,{w:"90%"}),s.jsx(p,{w:"70%"})]}),s.jsx("div",{className:"mt-5 h-9 w-32 rounded-lg bg-neutral-200"})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm animate-pulse",children:[s.jsx("div",{className:"mb-4 h-6 w-40 rounded bg-neutral-200"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(p,{}),s.jsx(p,{w:"95%"}),s.jsx(p,{w:"80%"})]}),s.jsx("div",{className:"mt-5 h-9 w-36 rounded-lg bg-neutral-200"})]})]})]})})):e?(console.log("[Dashboard Render] Rendering dashboard content for user:",e),s.jsx("div",{className:"min-h-screen bg-neutral-50 py-10",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[s.jsx("section",{className:"overflow-hidden rounded-3xl bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-700 shadow-lg",children:s.jsx("div",{className:"p-6 sm:p-8",children:(0,s.jsxs)("div",{className:"flex flex-col items-start justify-between gap-6 md:flex-row md:items-center",children:[(0,s.jsxs)("div",{className:"text-neutral-200",children:[s.jsx("p",{className:"text-sm tracking-wide text-neutral-300",children:r("greetingSmall")||"Welcome back,"}),s.jsx("h1",{className:"mt-1 text-2xl font-semibold tracking-tight text-white sm:text-3xl",children:r("greeting",{name:b||e.name||r("fallback.there")})}),s.jsx("p",{className:"mt-2 max-w-xl text-sm text-neutral-300",children:r("hero.subtitle")||"Pantau profil dan kelola CV kamu di satu tempat."})]}),(0,s.jsxs)("div",{className:"flex w-full gap-3 md:w-auto",children:[(0,s.jsxs)(a.default,{href:"/jobs",className:"inline-flex flex-1 items-center justify-center gap-2 rounded-xl bg-white px-4 py-2 text-sm font-semibold text-neutral-900 shadow-sm transition hover:bg-neutral-100 md:flex-none",children:[s.jsx(m,{className:"h-4 w-4"})," ",r("cta.findJobs")||"Cari Lowongan"]}),(0,s.jsxs)(a.default,{href:"/profile",className:"inline-flex flex-1 items-center justify-center gap-2 rounded-xl border border-white/30 bg-transparent px-4 py-2 text-sm font-semibold text-white backdrop-blur transition hover:bg-white/10 md:flex-none",children:[s.jsx(x,{className:"h-4 w-4"})," ",r("profile.title")||"Profil Saya"]})]})]})})}),(0,s.jsxs)("section",{className:"mt-8 grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:r("profile.title")}),s.jsx("span",{className:"rounded-full bg-neutral-100 px-3 py-1 text-xs text-neutral-600",children:r("profile.badge")||"Akun"})]}),s.jsx("p",{className:"text-sm text-neutral-600",children:r("profile.desc")}),(0,s.jsxs)("div",{className:"mt-4",children:[" ",(0,s.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-neutral-500",children:r("profile.completeness")||"Kelengkapan Profil"}),(0,s.jsxs)("span",{className:"text-xs font-medium text-neutral-700",children:[_,"%"]})]}),s.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-neutral-100",children:s.jsx("div",{className:"h-2 rounded-full bg-neutral-900 transition-[width] duration-500 ease-out",style:{width:`${_}%`}})})]}),(0,s.jsxs)("div",{className:"mt-5",children:[" ",(0,s.jsxs)(a.default,{href:"/profile",className:"group inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-neutral-800",children:[r("profile.cta")," ",s.jsx(c,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})]}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-3 text-center",children:[" ",(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 p-3",children:[s.jsx("p",{className:"text-xs text-neutral-500",children:r("profile.stats.profile")}),s.jsx("p",{className:`mt-1 text-lg font-semibold ${C?"text-green-600":"text-amber-600"}`,children:C?"✔︎":"Lengkapi"})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 p-3",children:[s.jsx("p",{className:"text-xs text-neutral-500",children:r("profile.stats.skills")}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-neutral-900",children:P})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 p-3",children:[s.jsx("p",{className:"text-xs text-neutral-500",children:"CV"}),s.jsx("p",{className:`mt-1 text-lg font-semibold ${N||k?"text-green-600":"text-amber-600"}`,children:N||k?"Siap":"Belum"})]})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Buat CV (ATS)"}),s.jsx(u,{className:"h-5 w-5 text-neutral-400"})]}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Susun CV format ATS yang rapi dan siap kirim. Kamu bisa lanjutkan dari draft yang tersimpan otomatis."}),s.jsx("div",{className:"mt-4 flex items-center gap-2 text-sm",children:s.jsx("span",{className:"rounded-full bg-neutral-100 px-2.5 py-1 text-neutral-700",children:k?"Draft ditemukan":"Belum ada draft"})}),s.jsx("div",{className:"mt-5 flex flex-wrap items-center gap-3",children:(0,s.jsxs)(a.default,{href:"/cv",className:"group inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-neutral-800",children:[k?"Lanjutkan Draft":"Buat CV Sekarang"," ",s.jsx(c,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm md:col-span-2",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Lamaran Diterima"}),s.jsx(h,{className:"h-5 w-5 text-green-600"})]}),0===L.length?(0,s.jsxs)("div",{className:"rounded-xl border border-dashed border-neutral-200 p-5 text-center",children:[(0,s.jsxs)("p",{className:"text-sm text-neutral-600",children:["Belum ada lamaran yang ditandai sebagai ",s.jsx("span",{className:"font-medium",children:"diterima"}),"."]}),(0,s.jsxs)(a.default,{href:"/applications",className:"mt-3 inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-3 py-1.5 text-sm font-medium text-white hover:bg-neutral-800",children:["Lihat Semua Lamaran ",s.jsx(c,{className:"h-4 w-4"})]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("ul",{className:"space-y-3",children:L.map((e,t)=>{let r=new Date(e.date),n=isNaN(r.getTime())?e.date:M.format(r);return(0,s.jsxs)("li",{className:"flex items-start justify-between gap-3 rounded-xl border border-neutral-200 p-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("p",{className:"truncate text-sm font-medium text-neutral-900",children:e.title}),(0,s.jsxs)("p",{className:"mt-0.5 text-xs text-neutral-500",children:["Diterima: ",n]})]}),(0,s.jsxs)(a.default,{href:`/jobs/${e.jobId}`,className:"inline-flex items-center gap-1 rounded-lg border border-neutral-200 px-2 py-1 text-xs text-neutral-700 hover:bg-neutral-50",children:["Detail Pekerjaan ",s.jsx(c,{className:"h-3.5 w-3.5"})]})]},`${e.jobId}-${t}`)})}),s.jsx("div",{className:"mt-5",children:(0,s.jsxs)(a.default,{href:"/applications",className:"group inline-flex items-center gap-2 rounded-xl bg-neutral-100 px-4 py-2 text-sm font-medium text-neutral-800 transition hover:bg-neutral-200",children:["Lihat Semua Lamaran ",s.jsx(c,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})})]})]})]})]})})):(console.error("[Dashboard Render] User is null after loading and refresh attempt."),s.jsx("div",{className:"p-6",children:"Verifying session... Please wait or try logging in again."}))}},94011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(45347).createProxy)(String.raw`D:\tugas\magang\frontend-arkwork1\src\app\dashboard\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[285,59,785],()=>r(77425));module.exports=s})();