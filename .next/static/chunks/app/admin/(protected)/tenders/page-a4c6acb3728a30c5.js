(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9816],{21432:function(e,t,a){Promise.resolve().then(a.bind(a,98206))},40257:function(e,t,a){"use strict";var n,r;e.exports=(null==(n=a.g.process)?void 0:n.env)&&"object"==typeof(null==(r=a.g.process)?void 0:r.env)?a.g.process:a(44227)},44227:function(e){!function(){var t={229:function(e){var t,a,n,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(a){try{return t.call(null,e,0)}catch(a){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{a="function"==typeof clearTimeout?clearTimeout:l}catch(e){a=l}}();var o=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?o=n.concat(o):d=-1,o.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=o.length;t;){for(n=o,o=[];++d<t;)n&&n[d].run();d=-1,t=o.length}n=null,c=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];o.push(new x(e,t)),1!==o.length||c||i(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}},l=!0;try{t[e](s,s.exports,n),l=!1}finally{l&&delete a[e]}return s.exports}n.ab="//";var r=n(229);e.exports=r}()},98206:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(57437),r=a(2265),s=a(71837);let l="/api/admin/tenders",i=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});function o(e){let t=Number((e||"").replace(/[^\d]/g,""));return Number.isFinite(t)?t:0}function c(){let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}function d(){let[e,t]=(0,r.useState)(null),[a,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=!1;return(async()=>{try{d(null);let a=await (0,s.vL)();e||t(a)}catch(t){e||d((null==t?void 0:t.message)||"Gagal memuat kurs")}})(),()=>{e=!0}},[]);let[p,g]=(0,r.useState)(!1),[v,f]=(0,r.useState)(null),[j,b]=(0,r.useState)({title:"",buyer:"",sector:"OIL_GAS",status:"OPEN",contract:"EPC",provinceId:"",regencyId:"",budgetIDR:"",deadline:c(),description:"",documentsCsv:""}),N=(e,t)=>b(a=>({...a,[e]:t})),{data:y}=function(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[s,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=!1;return(async()=>{try{l(null),n(!0);let a=sessionStorage.getItem("emsifa_provinces_v1");if(a){let n=JSON.parse(a);e||t(n);return}let r=await fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json");if(!r.ok)throw Error("Gagal memuat provinsi");let s=await r.json();e||(t(s),sessionStorage.setItem("emsifa_provinces_v1",JSON.stringify(s)))}catch(t){e||l((null==t?void 0:t.message)||"Gagal memuat provinsi")}finally{e||n(!1)}})(),()=>{e=!0}},[]),{data:e,loading:a,error:s}}(),{data:E}=function(e){let[t,a]=(0,r.useState)([]),[n,s]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=!1;return(async()=>{if(!e){a([]);return}try{i(null),s(!0);let n="emsifa_regencies_".concat(e,"_v1"),r=sessionStorage.getItem(n);if(r){let e=JSON.parse(r);t||a(e);return}let l=await fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(e,".json"));if(!l.ok)throw Error("Gagal memuat kabupaten/kota");let o=await l.json();t||(a(o),sessionStorage.setItem(n,JSON.stringify(o)))}catch(e){t||i((null==e?void 0:e.message)||"Gagal memuat kabupaten/kota")}finally{t||s(!1)}})(),()=>{t=!0}},[e]),{data:t,loading:n,error:l}}(j.provinceId);(0,r.useEffect)(()=>{b(e=>({...e,regencyId:""}))},[j.provinceId]);let[S,I]=(0,r.useState)([]),[w,C]=(0,r.useState)(!0),[T,D]=(0,r.useState)(null),[P,k]=(0,r.useState)(null);async function L(){C(!0),D(null);try{let e=await (0,s.hi)(l),t=Array.isArray(e)?e:Array.isArray(null==e?void 0:e.items)?e.items:Array.isArray(null==e?void 0:e.data)?e.data:[];t.sort((e,t)=>+new Date((null==t?void 0:t.createdAt)||0)-+new Date((null==e?void 0:e.createdAt)||0)),I(t)}catch(e){D((null==e?void 0:e.message)||"Failed to load tenders")}finally{C(!1)}}async function R(e){var t,a;if(e.preventDefault(),f(null),!j.title.trim()||!j.buyer.trim()){f("Mohon isi Title dan Owner.");return}if(!j.provinceId||!j.regencyId){f("Mohon pilih Provinsi dan Kabupaten/Kota.");return}let n=(null===(t=y.find(e=>e.id===j.provinceId))||void 0===t?void 0:t.name)||"",r=[(null===(a=E.find(e=>e.id===j.regencyId))||void 0===a?void 0:a.name)||"",n].filter(Boolean).join(", "),i=o(j.budgetIDR);g(!0);try{let e={title:j.title.trim(),buyer:j.buyer.trim(),sector:j.sector,location:r,status:j.status,contract:j.contract,budgetUSD:Math.max(0,Math.round(i)),description:j.description.trim(),documents:j.documentsCsv.split(",").map(e=>e.trim()).filter(Boolean),deadline:new Date(j.deadline+"T00:00:00").toISOString()};await (0,s.hi)(l,{json:e}),alert("Tender created!"),b(e=>({...e,title:"",buyer:"",budgetIDR:"",description:"",documentsCsv:""})),L()}catch(e){f((null==e?void 0:e.message)||"Failed to create tender")}finally{g(!1)}}async function O(e){if(confirm("Delete this tender? This action cannot be undone."))try{await (0,s.hi)("".concat(l,"/").concat(e),{method:"DELETE",expectJson:!1}),I(t=>t.filter(t=>t.id!==e))}catch(e){alert((null==e?void 0:e.message)||"Failed to delete tender")}}(0,r.useEffect)(()=>{L()},[]);let _=(0,r.useMemo)(()=>["EPC","SUPPLY","CONSULTING","MAINTENANCE","PSC","SERVICE","JOC","TURNKEY","LOGISTICS","DRILLING","O_M"],[]);return(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Tenders Management"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-neutral-600",children:"Buat tender, atur status, unggah dokumen (pisahkan dengan koma), dan lengkapi detail."})]}),(0,n.jsxs)("div",{className:"rounded-xl border border-neutral-200 p-2 text-xs text-neutral-700",children:[(0,n.jsx)("div",{className:"font-medium",children:"Kurs aktif"}),a?(0,n.jsx)("div",{className:"text-rose-600",children:"Tidak tersedia • tampil IDR apa adanya"}):(0,n.jsx)("div",{children:e?(0,n.jsxs)(n.Fragment,{children:["1 USD ≈ ",i.format(e)]}):"Memuat…"})]})]}),(0,n.jsxs)("form",{onSubmit:R,className:"mt-6 grid gap-4 max-w-3xl",children:[v&&(0,n.jsx)("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:v}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,n.jsx)("input",{value:j.title,onChange:e=>N("title",e.target.value),className:"rounded-xl border px-3 py-2",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Owner"}),(0,n.jsx)("input",{value:j.buyer,onChange:e=>N("buyer",e.target.value),className:"rounded-xl border px-3 py-2",required:!0})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Sector"}),(0,n.jsxs)("select",{value:j.sector,onChange:e=>N("sector",e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,n.jsx)("option",{value:"OIL_GAS",children:"OIL_GAS"}),(0,n.jsx)("option",{value:"RENEWABLE_ENERGY",children:"RENEWABLE_ENERGY"}),(0,n.jsx)("option",{value:"UTILITIES",children:"UTILITIES"}),(0,n.jsx)("option",{value:"ENGINEERING",children:"ENGINEERING"})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,n.jsxs)("select",{value:j.status,onChange:e=>N("status",e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,n.jsx)("option",{value:"OPEN",children:"OPEN"}),(0,n.jsx)("option",{value:"PREQUALIFICATION",children:"PREQUALIFICATION"}),(0,n.jsx)("option",{value:"CLOSED",children:"CLOSED"})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Contract"}),(0,n.jsx)("select",{value:j.contract,onChange:e=>N("contract",e.target.value),className:"rounded-xl border px-3 py-2",children:_.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Provinsi"}),(0,n.jsxs)("select",{value:j.provinceId,onChange:e=>N("provinceId",e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,n.jsx)("option",{value:"",disabled:!0,children:"Pilih provinsi…"}),y.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Kabupaten / Kota"}),(0,n.jsxs)("select",{value:j.regencyId,onChange:e=>N("regencyId",e.target.value),className:"rounded-xl border px-3 py-2",disabled:!j.provinceId,required:!0,children:[(0,n.jsx)("option",{value:"",disabled:!0,children:j.provinceId?"Pilih kabupaten/kota…":"Pilih provinsi dulu"}),E.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,n.jsx)("p",{className:"text-xs text-neutral-500",children:"Pilih provinsi terlebih dahulu untuk memuat kabupaten/kota."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Nilai Proyek (IDR)"}),(0,n.jsx)("input",{value:j.budgetIDR,onChange:e=>N("budgetIDR",h(e.target.value)),placeholder:"contoh: 1.000.000",className:"rounded-xl border px-3 py-2",inputMode:"numeric"}),(0,n.jsx)("p",{className:"text-xs text-neutral-500",children:"Disimpan ke database sebagai IDR (tanpa konversi)."})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Deadline"}),(0,n.jsx)("input",{type:"date",value:j.deadline,onChange:e=>N("deadline",e.target.value),className:"rounded-xl border px-3 py-2"})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,n.jsx)("textarea",{value:j.description,onChange:e=>N("description",e.target.value),className:"min-h-32 rounded-xl border px-3 py-2"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Documents (comma separated)"}),(0,n.jsx)("input",{value:j.documentsCsv,onChange:e=>N("documentsCsv",e.target.value),className:"rounded-xl border px-3 py-2",placeholder:"RFP.pdf, BoQ.xlsx"})]}),(0,n.jsx)("div",{className:"pt-2",children:(0,n.jsx)("button",{type:"submit",disabled:p,className:"rounded-xl bg-neutral-900 px-4 py-2.5 text-white hover:opacity-90 disabled:opacity-60",children:p?"Creating…":"Create"})})]})]}),(0,n.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm",children:[(0,n.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-base font-semibold text-neutral-900",children:"Existing Tenders"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-xs text-neutral-500",children:e?"Kurs aktif: 1 USD ≈ ".concat(i.format(e)," • Tampil IDR asli"):"Memuat kurs…"}),(0,n.jsx)("button",{onClick:L,className:"rounded-xl border border-neutral-300 bg-white px-3 py-1.5 text-sm hover:bg-neutral-50",children:"Refresh"})]})]}),T&&(0,n.jsx)("div",{className:"mb-3 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:T}),w?(0,n.jsx)("div",{className:"rounded-xl border border-dashed p-8 text-center text-sm text-neutral-600",children:"Loading…"}):0===S.length?(0,n.jsx)("div",{className:"rounded-xl border border-dashed p-8 text-center text-sm text-neutral-600",children:"No tenders yet."}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full text-sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b bg-neutral-50 text-left",children:[(0,n.jsx)(m,{children:"Title"}),(0,n.jsx)(m,{children:"Buyer"}),(0,n.jsx)(m,{children:"Sector"}),(0,n.jsx)(m,{children:"Status"}),(0,n.jsx)(m,{children:"Contract"}),(0,n.jsx)(m,{children:"Project Value (IDR)"}),(0,n.jsx)(m,{children:"Deadline"}),(0,n.jsx)(m,{className:"text-right",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:S.map(e=>{let t=Math.max(0,Number(e.budgetUSD||0));return(0,n.jsxs)("tr",{className:"border-b last:border-0",children:[(0,n.jsx)(x,{className:"font-medium",children:e.title}),(0,n.jsx)(x,{children:e.buyer}),(0,n.jsx)(x,{children:e.sector}),(0,n.jsx)(x,{children:e.status}),(0,n.jsx)(x,{children:e.contract}),(0,n.jsx)(x,{children:i.format(t)}),(0,n.jsx)(x,{children:function(e){if(!e)return"-";try{let t=new Date(e),a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(r)}catch(t){return e||"-"}}(e.deadline)}),(0,n.jsxs)(x,{className:"text-right space-x-2",children:[(0,n.jsx)("button",{onClick:()=>k(e),className:"rounded-lg border border-neutral-300 px-2.5 py-1 text-xs hover:bg-neutral-50",title:"Edit",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>O(e.id),className:"rounded-lg border border-red-500 px-2.5 py-1 text-xs text-red-600 hover:bg-red-50",title:"Delete tender",children:"Delete"})]})]},e.id)})})]})})]}),P&&(0,n.jsx)(u,{data:P,onClose:()=>k(null),onUpdated:L,contractOptions:_})]})}function u(e){let{data:t,onClose:a,onUpdated:i,contractOptions:d}=e,[u,m]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null),[g,v]=(0,r.useState)(t.title),[f,j]=(0,r.useState)(t.buyer),[b,N]=(0,r.useState)(t.sector),[y,E]=(0,r.useState)(t.status),[S,I]=(0,r.useState)(t.contract),[w,C]=(0,r.useState)(t.location),[T,D]=(0,r.useState)(h(String(t.budgetUSD||""))),[P,k]=(0,r.useState)(function(e){try{let t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))}catch(e){return c()}}(t.deadline)),[L,R]=(0,r.useState)(t.description||""),[O,_]=(0,r.useState)((t.documents||[]).join(", "));async function A(e){if(e.preventDefault(),p(null),!g.trim()||!f.trim()){p("Mohon isi Title dan Owner.");return}let n=o(T),r={title:g.trim(),buyer:f.trim(),sector:b,status:y,contract:S,location:w.trim(),budgetUSD:Math.max(0,Math.round(n)),deadline:new Date(P+"T00:00:00").toISOString(),description:L.trim(),documents:O.split(",").map(e=>e.trim()).filter(Boolean)};m(!0);try{await (0,s.hi)("".concat(l,"/").concat(t.id),{method:"PUT",json:r,expectJson:!1}),a(),i()}catch(e){p((null==e?void 0:e.message)||"Failed to update tender")}finally{m(!1)}}return(0,n.jsxs)("div",{className:"fixed inset-0 z-[100]",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:a}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-3xl h-[90vh] rounded-2xl bg-white shadow-2xl flex flex-col",children:[(0,n.jsxs)("div",{className:"shrink-0 px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",children:"Edit Tender"}),(0,n.jsx)("button",{onClick:a,className:"rounded-lg border border-neutral-300 px-3 py-1.5 text-sm hover:bg-neutral-50",children:"Close"})]}),(0,n.jsxs)("form",{onSubmit:A,className:"grow overflow-y-auto px-6 py-5 space-y-4",children:[x&&(0,n.jsx)("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:x}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,n.jsx)("input",{value:g,onChange:e=>v(e.target.value),className:"rounded-xl border px-3 py-2"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Owner"}),(0,n.jsx)("input",{value:f,onChange:e=>j(e.target.value),className:"rounded-xl border px-3 py-2"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Sector"}),(0,n.jsxs)("select",{value:b,onChange:e=>N(e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,n.jsx)("option",{value:"OIL_GAS",children:"OIL_GAS"}),(0,n.jsx)("option",{value:"RENEWABLE_ENERGY",children:"RENEWABLE_ENERGY"}),(0,n.jsx)("option",{value:"UTILITIES",children:"UTILITIES"}),(0,n.jsx)("option",{value:"ENGINEERING",children:"ENGINEERING"})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,n.jsxs)("select",{value:y,onChange:e=>E(e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,n.jsx)("option",{value:"OPEN",children:"OPEN"}),(0,n.jsx)("option",{value:"PREQUALIFICATION",children:"PREQUALIFICATION"}),(0,n.jsx)("option",{value:"CLOSED",children:"CLOSED"})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Contract"}),(0,n.jsx)("select",{value:S,onChange:e=>I(e.target.value),className:"rounded-xl border px-3 py-2",children:d.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Deadline"}),(0,n.jsx)("input",{type:"date",value:P,onChange:e=>k(e.target.value),className:"rounded-xl border px-3 py-2"})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Location"}),(0,n.jsx)("input",{value:w,onChange:e=>C(e.target.value),className:"rounded-xl border px-3 py-2",placeholder:"Kab/Kota, Provinsi"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Nilai Proyek (IDR)"}),(0,n.jsx)("input",{value:T,onChange:e=>D(h(e.target.value)),className:"rounded-xl border px-3 py-2",inputMode:"numeric"}),(0,n.jsx)("p",{className:"text-xs text-neutral-500",children:"Tersimpan sebagai IDR (tanpa konversi)."})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,n.jsx)("textarea",{value:L,onChange:e=>R(e.target.value),className:"min-h-32 rounded-xl border px-3 py-2"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Documents (comma separated)"}),(0,n.jsx)("input",{value:O,onChange:e=>_(e.target.value),className:"rounded-xl border px-3 py-2"})]})]}),(0,n.jsxs)("div",{className:"shrink-0 px-6 py-4 border-t border-neutral-200 flex items-center justify-end gap-3",children:[(0,n.jsx)("button",{onClick:a,className:"rounded-xl border px-4 py-2 text-sm hover:bg-neutral-50",children:"Cancel"}),(0,n.jsx)("button",{onClick:A,disabled:u,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:opacity-90 disabled:opacity-60",children:u?"Saving…":"Save changes"})]})]})})]})}function m(e){let{children:t,className:a=""}=e;return(0,n.jsx)("th",{className:"px-3 py-2 text-xs uppercase tracking-wide text-neutral-500 ".concat(a),children:t})}function x(e){let{children:t,className:a=""}=e;return(0,n.jsx)("td",{className:"px-3 py-2 align-top ".concat(a),children:t})}function h(e){let t=(e||"").replace(/[^\d]/g,"");if(!t)return"";let a=[];for(let e=t.length;e>0;e-=3){let n=Math.max(0,e-3);a.unshift(t.slice(n,e))}return a.join(".")}},71837:function(e,t,a){"use strict";a.d(t,{Sg:function(){return r},hF:function(){return u},hi:function(){return d},vL:function(){return m}});var n=a(40257);let r=(n.env.NEXT_PUBLIC_API_URL||n.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000").replace(/\/+$/,""),s="true"===(n.env.NEXT_PUBLIC_FORCE_DIRECT_API||"false"),l="true"===(n.env.NEXT_PUBLIC_SKIP_EMPLOYER_CHECK||"false");function i(e){return e?/^https?:\/\//i.test(e)?e:s?"".concat(r).concat(e.startsWith("/")?"":"/").concat(e):e.startsWith("/")?e:"".concat(r).concat(e.startsWith("/")?"":"/").concat(e):r}async function o(e){try{if((e.headers.get("content-type")||"").includes("application/json")){let t=await e.json().catch(()=>({}));return(null==t?void 0:t.message)||(null==t?void 0:t.error)||"HTTP ".concat(e.status)}return await e.text()||"HTTP ".concat(e.status)}catch(t){return"HTTP ".concat(e.status)}}async function c(e){try{if((e.headers.get("content-type")||"").includes("application/json"))return await e.json().catch(()=>({message:"Failed to parse error JSON"}));return{message:await e.text()||"HTTP ".concat(e.status)}}catch(t){return{message:"HTTP ".concat(e.status)}}}async function d(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{json:n,headers:r,expectJson:s=!0,...o}=a;try{if(String(e||"").toLowerCase().includes("/api/employers")&&(console.log("[TRACE][api] Employer endpoint called: ".concat(e)),console.trace(),l))throw Error("[SKIP_EMPLOYER_CHECK] skipped call to ".concat(e))}catch(e){console.warn("[TRACE][api] trace helper error (ignored):",e)}let d=new Headers(r||{}),u=o.body instanceof FormData;void 0===n||u||d.set("Content-Type","application/json");let m={credentials:"include",headers:d,...void 0!==n?{method:null!==(t=o.method)&&void 0!==t?t:"POST",body:JSON.stringify(n)}:{},...o},x=i(e),h=await fetch(x,m);if(!h.ok){let e=await c(h),t=Error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"HTTP ".concat(h.status));throw t.response={data:e,status:h.status,config:{url:x}},t}return 204!==h.status&&s?(h.headers.get("content-type")||"").includes("application/json")?await h.json():await h.text():null}async function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(String(e||"").toLowerCase().includes("/api/employers")&&(console.log("[TRACE][apiForm] Employer endpoint called: ".concat(e)),console.trace(),l))throw Error("[SKIP_EMPLOYER_CHECK] skipped call to ".concat(e))}catch(e){console.warn("[TRACE][apiForm] trace helper error (ignored):",e)}let n=i(e),r=await fetch(n,{method:"POST",body:t,credentials:"include",...a});if(!r.ok){let e=await c(r),t=Error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"HTTP ".concat(r.status));throw t.response={data:e,status:r.status,config:{url:n}},t}return(r.headers.get("content-type")||"").includes("application/json")?await r.json():null}async function m(){let e=function(e,t){if(!t)return e;let a=window.location.origin,n=new URL(e.startsWith("/")?"".concat(a).concat(e):e);for(let[e,a]of Object.entries(t))null!=a&&""!==a&&n.searchParams.set(e,String(a));return e.startsWith("/")?"".concat(n.pathname).concat(n.search):n.toString()}("".concat(r,"/api/rates"),{base:"USD",symbols:"IDR"}),t=await fetch(e,{cache:"no-store",credentials:"include"});if(!t.ok)throw Error("[".concat(t.status,"] ").concat(await o(t)));let a=await t.json().catch(()=>({})),n=Number(null==a?void 0:a.rate);if(!Number.isFinite(n))throw Error("Invalid rate");return n}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=21432)}),_N_E=e.O()}]);