(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2048],{77660:function(e,t,r){Promise.resolve().then(r.bind(r,55420))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:o?24*Number(n)/Number(s):n,className:i("lucide",u),...!d&&!l(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:l,...c}=r;return(0,a.createElement)(u,{ref:n,iconNode:t,className:i("lucide-".concat(s(o(e))),"lucide-".concat(e),l),...c})});return r.displayName=o(e),r}},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},55420:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(57437),s=r(2265),n=r(38706),o=r(71837),i=r(33145),l=r(27648),c=r(37920),u=r(99376),d=r(42208),h=r(87769);function m(){let e=(0,n.T_)("resetPassword"),t=(0,n.T_)("signin"),r=(0,u.useSearchParams)(),[m,p]=(0,s.useState)(""),[x,f]=(0,s.useState)(""),[g,w]=(0,s.useState)(!1),[b,v]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(!0),[A,E]=(0,s.useState)(!1),[_,C]=(0,s.useState)(!1),[P,T]=(0,s.useState)(!1);async function S(t){t.preventDefault(),w(!0),v(null),j(null);try{let t=r.get("token"),a=await (0,o.hi)("/api/auth/reset-password",{method:"POST",json:{token:t,newPassword:m}});j(a.message||e("success.message"))}catch(t){var a,s;v((null==t?void 0:null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||(null==t?void 0:t.message)||e("error.default"))}finally{w(!1)}}return(0,s.useEffect)(()=>{let t=r.get("token");if(!t){v(e("error.noToken")),k(!1);return}(async()=>{try{await (0,o.hi)("/api/auth/verify-token/".concat(t),{method:"GET"}),E(!0)}catch(t){var r,a;v((null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||e("error.invalidToken")),E(!1)}finally{k(!1)}})()},[r,e]),(0,a.jsx)("div",{className:"min-h-[100svh] bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_60%),radial-gradient(ellipse_at_bottom,rgba(99,102,241,0.08),transparent_60%)] from-slate-50 via-white to-slate-100 flex items-center justify-center px-4 py-10",children:(0,a.jsx)("div",{className:"w-full max-w-[520px]",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-[28px] border border-slate-200/70 bg-white shadow-[0_10px_50px_rgba(2,6,23,0.08)] ring-1 ring-slate-100/60",children:[(0,a.jsxs)("div",{className:"px-8 pt-8 text-center",children:[(0,a.jsx)(i.default,{src:c.Z,alt:"ArkWork Logo",width:96,height:96,className:"mx-auto mb-5 h-20 w-20 object-contain drop-shadow-sm",priority:!0}),(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900",children:e("title")}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:e("subtitle")})]}),N?(0,a.jsxs)("div",{className:"py-10 text-center text-slate-600",children:[(0,a.jsx)("span",{className:"mr-2 inline-block animate-spin",children:"⏳"})," ",e("validating")]}):y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mx-8 mt-5 rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",role:"alert",children:y}),(0,a.jsx)("div",{className:"px-8 pb-8 pt-6 text-center",children:(0,a.jsx)(l.default,{href:"/auth/signin",className:"font-medium text-blue-700 hover:underline",children:t("form.signInBtn")})})]}):b&&!A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mx-8 mt-5 rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:b}),(0,a.jsx)("div",{className:"px-8 pb-8 pt-6 text-center",children:(0,a.jsx)(l.default,{href:"/auth/forgot",className:"font-medium text-blue-700 hover:underline",children:e("backToForgot")})})]}):(0,a.jsxs)("form",{onSubmit:S,noValidate:!0,className:"space-y-4 px-8 pb-8 pt-6",children:[b&&(0,a.jsx)("div",{className:"rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:b}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:e("form.newPassword")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:_?"text":"password",value:m,onChange:e=>p(e.target.value),required:!0,minLength:8,autoComplete:"new-password",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 pr-10 text-sm",placeholder:"••••••••"}),(0,a.jsx)("button",{type:"button",onClick:()=>C(e=>!e),className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-slate-500 hover:text-slate-700",children:_?(0,a.jsx)(d.Z,{size:20}):(0,a.jsx)(h.Z,{size:20})})]})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:e("form.confirmPassword")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:P?"text":"password",value:x,onChange:e=>f(e.target.value),required:!0,autoComplete:"new-password",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 pr-10 text-sm",placeholder:"••••••••"}),(0,a.jsx)("button",{type:"button",onClick:()=>T(e=>!e),className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-slate-500 hover:text-slate-700",children:P?(0,a.jsx)(d.Z,{size:20}):(0,a.jsx)(h.Z,{size:20})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"inline-flex w-full items-center justify-center rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-blue-700 disabled:opacity-60",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2 inline-block animate-spin",children:"⏳"}),e("form.saving")]}):e("form.savePassword")})]})]})})})}function p(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(m,{})})}},71837:function(e,t,r){"use strict";r.d(t,{Sg:function(){return s},hF:function(){return d},hi:function(){return u},vL:function(){return h}});var a=r(40257);let s=(a.env.NEXT_PUBLIC_API_URL||a.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000").replace(/\/+$/,""),n="true"===(a.env.NEXT_PUBLIC_FORCE_DIRECT_API||"false"),o="true"===(a.env.NEXT_PUBLIC_SKIP_EMPLOYER_CHECK||"false");function i(e){return e?/^https?:\/\//i.test(e)?e:n?"".concat(s).concat(e.startsWith("/")?"":"/").concat(e):e.startsWith("/")?e:"".concat(s).concat(e.startsWith("/")?"":"/").concat(e):s}async function l(e){try{if((e.headers.get("content-type")||"").includes("application/json")){let t=await e.json().catch(()=>({}));return(null==t?void 0:t.message)||(null==t?void 0:t.error)||"HTTP ".concat(e.status)}return await e.text()||"HTTP ".concat(e.status)}catch(t){return"HTTP ".concat(e.status)}}async function c(e){try{if((e.headers.get("content-type")||"").includes("application/json"))return await e.json().catch(()=>({message:"Failed to parse error JSON"}));return{message:await e.text()||"HTTP ".concat(e.status)}}catch(t){return{message:"HTTP ".concat(e.status)}}}async function u(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{json:a,headers:s,expectJson:n=!0,...l}=r;try{if(String(e||"").toLowerCase().includes("/api/employers")&&(console.log("[TRACE][api] Employer endpoint called: ".concat(e)),console.trace(),o))throw Error("[SKIP_EMPLOYER_CHECK] skipped call to ".concat(e))}catch(e){console.warn("[TRACE][api] trace helper error (ignored):",e)}let u=new Headers(s||{}),d=l.body instanceof FormData;void 0===a||d||u.set("Content-Type","application/json");let h={credentials:"include",headers:u,...void 0!==a?{method:null!==(t=l.method)&&void 0!==t?t:"POST",body:JSON.stringify(a)}:{},...l},m=i(e),p=await fetch(m,h);if(!p.ok){let e=await c(p),t=Error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"HTTP ".concat(p.status));throw t.response={data:e,status:p.status,config:{url:m}},t}return 204!==p.status&&n?(p.headers.get("content-type")||"").includes("application/json")?await p.json():await p.text():null}async function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(String(e||"").toLowerCase().includes("/api/employers")&&(console.log("[TRACE][apiForm] Employer endpoint called: ".concat(e)),console.trace(),o))throw Error("[SKIP_EMPLOYER_CHECK] skipped call to ".concat(e))}catch(e){console.warn("[TRACE][apiForm] trace helper error (ignored):",e)}let a=i(e),s=await fetch(a,{method:"POST",body:t,credentials:"include",...r});if(!s.ok){let e=await c(s),t=Error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"HTTP ".concat(s.status));throw t.response={data:e,status:s.status,config:{url:a}},t}return(s.headers.get("content-type")||"").includes("application/json")?await s.json():null}async function h(){let e=function(e,t){if(!t)return e;let r=window.location.origin,a=new URL(e.startsWith("/")?"".concat(r).concat(e):e);for(let[e,r]of Object.entries(t))null!=r&&""!==r&&a.searchParams.set(e,String(r));return e.startsWith("/")?"".concat(a.pathname).concat(a.search):a.toString()}("".concat(s,"/api/rates"),{base:"USD",symbols:"IDR"}),t=await fetch(e,{cache:"no-store",credentials:"include"});if(!t.ok)throw Error("[".concat(t.status,"] ").concat(await l(t)));let r=await t.json().catch(()=>({})),a=Number(null==r?void 0:r.rate);if(!Number.isFinite(a))throw Error("Invalid rate");return a}},37920:function(e,t){"use strict";t.Z={src:"/_next/static/media/Ungu__1_-removebg-preview.b94c2985.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAeklEQVR42mNABrz9uxgZCAEeoCJhbAoFurdx8fbvDIbxhaYfYIQwpuwFM0RmHxIWmLrPim/y3kTRWYdEwWJT9zEyiMZOBikA0lPkRaMn6QlVr8wQKVpkANZcuRxhlWjSdDEglhe3ahAVC+kVZCAZiCZOY4RhscSpcKMB/ykhoS5GpJgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},38706:function(e,t,r){"use strict";r.d(t,{T_:function(){return n}});var a=r(64574);function s(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let n=s(0,a.T_);s(0,a.Gb)}},function(e){e.O(0,[4574,6933,3145,2971,2117,1744],function(){return e(e.s=77660)}),_N_E=e.O()}]);