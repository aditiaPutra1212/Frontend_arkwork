(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8098],{75805:function(e,t,s){Promise.resolve().then(s.bind(s,50003))},79205:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var a=s(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:c="",children:u,iconNode:m,...x}=e;return(0,a.createElement)("svg",{ref:t,...d,width:l,height:l,stroke:s,strokeWidth:n?24*Number(r)/Number(l):r,className:i("lucide",c),...!u&&!o(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:o,...d}=s;return(0,a.createElement)(c,{ref:r,iconNode:t,className:i("lucide-".concat(l(n(e))),"lucide-".concat(e),o),...d})});return s.displayName=n(e),s}},87769:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},50003:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(57437),l=s(2265),r=s(84603),n=s(27648),i=s(99376),o=s(33145),d=s(38706),c=s(42208),u=s(87769),m=s(79861),x=s(71837);function h(e){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"20px",height:"20px","aria-hidden":"true",...e,children:[(0,a.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,a.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,a.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,a.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})}function p(){let e=(0,d.T_)("signin"),t=(0,d.T_)("signup"),s=(0,i.useRouter)(),{signinUser:p,signup:b,user:g,refresh:f}=(0,r.a)(),v=(0,i.useSearchParams)(),[j,w]=(0,l.useState)("signin"),[N,y]=(0,l.useState)(null),[k,A]=(0,l.useState)(""),[C,S]=(0,l.useState)(""),[_,z]=(0,l.useState)(!1),[P,E]=(0,l.useState)(!1),[Z,U]=(0,l.useState)(""),[D,F]=(0,l.useState)(""),[V,B]=(0,l.useState)(""),[M,O]=(0,l.useState)(""),[I,R]=(0,l.useState)(!1),[L,T]=(0,l.useState)(!1),[G,H]=(0,l.useState)(!1),[W,q]=(0,l.useState)(!1),[Q,K]=(0,l.useState)(null),[X,$]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let t=v.get("from");v.get("error")?(y(e("error.google")||"Google sign-in failed. Please try again."),$(!1),s.replace("/auth/signin")):"google"!==t||g||($(!0),y(null),console.log("Google callback success, refreshing session..."),f())},[v,s,e,f,g]),(0,l.useEffect)(()=>{let e=v.get("from");g&&"google"===e&&(console.log("User populated after Google refresh, redirecting..."),ee(g))},[g,v]);let Y=V.length>=8&&/[A-Z]/.test(V)&&/[a-z]/.test(V)&&/[0-9]/.test(V);function J(e){w(e),y(null)}function ee(e){var t,a,l;let r=null!==(l=null!==(a=null==e?void 0:e.role)&&void 0!==a?a:null==e?void 0:e.type)&&void 0!==l?l:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.role;"admin"===r?s.push("/admin"):"employer"===r?s.push("/employer"):s.push("/dashboard"),s.refresh()}async function et(t){t.preventDefault(),E(!0),y(null);try{let e=await p(k.trim(),C);e&&ee(e)}catch(t){var s,a;y((null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||(null==t?void 0:t.message)||e("error.default"))}finally{E(!1)}}async function es(e){if(e.preventDefault(),y(null),K(null),!G){y(t("error.agree"));return}if(V!==M){y(t("error.mismatch"));return}q(!0);try{let e=await (0,x.hi)("/auth/signup",{method:"POST",json:{name:Z.trim(),email:D.trim(),password:V}});if((null==e?void 0:e.ok)&&(null==e?void 0:e.message))K(e.message),U(""),F(""),B(""),O(""),H(!1);else throw Error((null==e?void 0:e.message)||t("error.default"))}catch(e){var s,a;y((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||(null==e?void 0:e.message)||t("error.default"))}finally{q(!1)}}let ea=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative my-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,a.jsx)("div",{className:"w-full border-t border-slate-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs",children:(0,a.jsx)("span",{className:"bg-white px-2 text-slate-500",children:e("or")})})]}),(0,a.jsxs)("button",{type:"button",onClick:function(){$(!0),y(null),window.location.href="".concat(x.Sg,"/auth/google")},disabled:X||P||W,className:"inline-flex w-full items-center justify-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 disabled:opacity-60",children:[X?(0,a.jsx)("span",{className:"mr-2 inline-block animate-spin",children:"⏳"}):(0,a.jsx)(h,{className:"h-5 w-5"}),e("googleBtn")]})]});return(0,a.jsx)("div",{className:"min-h-[100svh] bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_60%),radial-gradient(ellipse_at_bottom,rgba(99,102,241,0.08),transparent_60%)] from-slate-50 via-white to-slate-100 flex items-center justify-center px-4 py-10",children:(0,a.jsx)("div",{className:"w-full max-w-[520px]",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-[28px] border border-slate-200/70 bg-white shadow-[0_10px_50px_rgba(2,6,23,0.08)] ring-1 ring-slate-100/60",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute -top-24 -right-24 h-64 w-64 rounded-full bg-blue-400/10 blur-3xl"}),(0,a.jsx)("div",{className:"pointer-events-none absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-indigo-400/10 blur-3xl"}),(0,a.jsxs)("div",{className:"px-8 pt-8 text-center",children:[(0,a.jsx)(o.default,{src:m.Z,alt:"ArkWork Logo",width:96,height:96,className:"mx-auto mb-4 h-20 w-20 sm:h-20 sm:w-20 object-contain",priority:!0}),(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900",children:"signin"===j?e("title"):t("title")}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"signin"===j?e("subtitle"):t("subtitle")}),(0,a.jsxs)("div",{className:"mt-6 inline-flex rounded-2xl border border-slate-200 bg-slate-50 p-1 text-sm",children:[(0,a.jsx)("button",{onClick:()=>J("signin"),className:"px-4 py-1.5 rounded-xl transition ".concat("signin"===j?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"),"aria-pressed":"signin"===j,children:e("form.signInBtn")}),(0,a.jsx)("button",{onClick:()=>J("signup"),className:"px-4 py-1.5 rounded-xl transition ".concat("signup"===j?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"),"aria-pressed":"signup"===j,children:t("createBtn")})]})]}),Q&&!N&&(0,a.jsx)("div",{className:"mx-8 mt-5 rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",role:"alert",children:Q}),N&&(0,a.jsx)("div",{className:"mx-8 mt-5 rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:N}),(0,a.jsx)("div",{className:"px-8 pb-8 pt-6",children:"signin"===j?(0,a.jsxs)("form",{onSubmit:et,noValidate:!0,className:"space-y-4",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:"Email / Username"}),(0,a.jsx)("input",{type:"text",value:k,onChange:e=>A(e.target.value),required:!0,autoComplete:"username",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm",placeholder:"you@example.com"})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:e("form.password")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:_?"text":"password",value:C,onChange:e=>S(e.target.value),required:!0,autoComplete:"current-password",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 pr-10 text-sm",placeholder:"••••••••"}),(0,a.jsx)("button",{type:"button",onClick:()=>z(e=>!e),className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-slate-500 hover:text-slate-700",tabIndex:-1,"aria-label":e("form.togglePw"),children:_?(0,a.jsx)(c.Z,{size:20,"aria-hidden":"true"}):(0,a.jsx)(u.Z,{size:20,"aria-hidden":"true"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600"}),e("form.remember")]}),(0,a.jsx)(n.default,{className:"text-sm font-medium text-blue-700 hover:underline",href:"/auth/forgot",children:e("form.forgot")})]}),(0,a.jsx)("button",{type:"submit",disabled:P||X,className:"inline-flex w-full items-center justify-center rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-blue-700 disabled:opacity-60",children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2 inline-block animate-spin",children:"⏳"}),e("form.signingIn")]}):e("form.signInBtn")}),ea,(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600",children:[e("noAccount")," ",(0,a.jsx)("button",{type:"button",onClick:()=>J("signup"),className:"font-medium text-blue-700 hover:underline",children:e("signUp")})]})]}):(0,a.jsxs)("form",{onSubmit:es,noValidate:!0,className:"space-y-4",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:t("form.name")}),(0,a.jsx)("input",{value:Z,onChange:e=>U(e.target.value),required:!0,placeholder:t("placeholder.name"),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm",autoComplete:"name"})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:t("form.email")}),(0,a.jsx)("input",{type:"email",value:D,onChange:e=>F(e.target.value),required:!0,autoComplete:"email",placeholder:t("placeholder.email"),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm"})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:t("form.password")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:I?"text":"password",value:V,onChange:e=>B(e.target.value),required:!0,minLength:8,placeholder:t("placeholder.password"),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 pr-10 text-sm",autoComplete:"new-password"}),(0,a.jsx)("button",{type:"button",onClick:()=>R(e=>!e),className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-slate-500 hover:text-slate-700",tabIndex:-1,"aria-label":t("form.togglePw"),children:I?(0,a.jsx)(c.Z,{size:20,"aria-hidden":"true"}):(0,a.jsx)(u.Z,{size:20,"aria-hidden":"true"})})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2","aria-hidden":"true",children:[(0,a.jsx)("div",{className:"h-1 w-1/3 rounded ".concat(V.length>=6?"bg-amber-400":"bg-slate-200")}),(0,a.jsx)("div",{className:"h-1 w-1/3 rounded ".concat(V.length>=8?"bg-amber-500":"bg-slate-200")}),(0,a.jsx)("div",{className:"h-1 w-1/3 rounded ".concat(Y?"bg-emerald-500":"bg-slate-200")})]}),(0,a.jsx)("p",{className:"mt-1 text-[11px] text-slate-500",children:t("password.hint")})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:t("form.confirm")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:L?"text":"password",value:M,onChange:e=>O(e.target.value),required:!0,placeholder:t("placeholder.confirm"),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 pr-10 text-sm",autoComplete:"new-password"}),(0,a.jsx)("button",{type:"button",onClick:()=>T(e=>!e),className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-slate-500 hover:text-slate-700",tabIndex:-1,"aria-label":t("form.toggleConfirm"),children:L?(0,a.jsx)(c.Z,{size:20,"aria-hidden":"true"}):(0,a.jsx)(u.Z,{size:20,"aria-hidden":"true"})})]}),M.length>0&&(0,a.jsx)("p",{className:"mt-1 text-xs ".concat(V===M?"text-emerald-600":"text-rose-600"),children:V===M?t("match.ok"):t("match.no")})]}),(0,a.jsxs)("label",{className:"mt-1 inline-flex items-center gap-2 text-sm text-slate-700",children:[(0,a.jsx)("input",{type:"checkbox",checked:G,onChange:e=>H(e.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600"}),t("agree.1")," ",(0,a.jsx)(n.default,{href:"/terms",className:"text-blue-700 hover:underline",children:t("agree.terms")})," ",t("agree.and")," ",(0,a.jsx)(n.default,{href:"/privacy",className:"text-blue-700 hover:underline",children:t("agree.privacy")}),"."]}),(0,a.jsx)("button",{type:"submit",disabled:W||X,className:"inline-flex w-full items-center justify-center rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-blue-700 disabled:opacity-60",children:W?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2 inline-block animate-spin",children:"⏳"}),t("creating")]}):t("createBtn")}),ea,(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600",children:[t("haveAccount")," ",(0,a.jsx)("button",{type:"button",onClick:()=>J("signin"),className:"font-medium text-blue-700 hover:underline",children:t("signIn")})]})]})})]})})})}},79861:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.de754229.png",height:1181,width:1181,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEX////+/v79/v77/Pz6+/z5+/z4+fr3+Pn2+Prv9Pft8vbr8fXp7PHn6u/V4uvU3+nY3OXQ3unV2+TQ1uDG2OXK0t2/1OOvytxcedo0AAAAOUlEQVR42iWKxxHAIBDEdNg4mxz675Q52NVDD4GAEfSvA1FisVbteu7eDLAdp/c78NcU8jczWPUcAywbATl/7A2KAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},38706:function(e,t,s){"use strict";s.d(t,{T_:function(){return r}});var a=s(64574);function l(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let r=l(0,a.T_);l(0,a.Gb)}},function(e){e.O(0,[4574,6933,3145,4603,2971,2117,1744],function(){return e(e.s=75805)}),_N_E=e.O()}]);