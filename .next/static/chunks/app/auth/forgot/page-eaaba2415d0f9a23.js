(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3281],{11348:function(e,t,a){Promise.resolve().then(a.bind(a,14011))},14011:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=a(57437),r=a(2265),s=a(38706),o=a(71837),i=a(33145),l=a(27648),c=a(37920);function u(){let e=(0,s.T_)("forgotPassword"),t=(0,s.T_)("signin"),[a,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),[f,x]=(0,r.useState)(null);async function g(t){t.preventDefault(),h(!0),p(null),x(null);try{let t=await (0,o.hi)("/api/auth/forgot",{method:"POST",json:{email:a}});x(t.message||e("success.message")),u("")}catch(t){var n,r;p((null==t?void 0:null===(r=t.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)||(null==t?void 0:t.message)||e("error.default"))}finally{h(!1)}}return(0,n.jsx)("div",{className:"min-h-[100svh] bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_60%),radial-gradient(ellipse_at_bottom,rgba(99,102,241,0.08),transparent_60%)] from-slate-50 via-white to-slate-100 flex items-center justify-center px-4 py-10",children:(0,n.jsx)("div",{className:"w-full max-w-[520px]",children:(0,n.jsxs)("div",{className:"relative overflow-hidden rounded-[28px] border border-slate-200/70 bg-white shadow-[0_10px_50px_rgba(2,6,23,0.08)] ring-1 ring-slate-100/60",children:[(0,n.jsxs)("div",{className:"px-8 pt-8 text-center",children:[(0,n.jsx)(i.default,{src:c.Z,alt:"ArkWork Logo",width:96,height:96,className:"mx-auto mb-5 h-20 w-20 object-contain drop-shadow-sm",priority:!0}),(0,n.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900",children:e("title")}),(0,n.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:e("subtitle")})]}),f&&(0,n.jsx)("div",{className:"mx-8 mt-5 rounded-2xl border border-emerald-300 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",role:"alert",children:f}),m&&(0,n.jsx)("div",{className:"mx-8 mt-5 rounded-2xl border border-rose-300 bg-rose-50 px-4 py-3 text-sm text-rose-700",role:"alert",children:m}),(0,n.jsx)("div",{className:"px-8 pb-8 pt-6",children:f?(0,n.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600",children:[e("backTo")," ",(0,n.jsx)(l.default,{href:"/auth/signin",className:"font-medium text-blue-700 hover:underline",children:t("form.signInBtn")})]}):(0,n.jsxs)("form",{onSubmit:g,noValidate:!0,className:"space-y-4",children:[(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"mb-1 block text-xs text-slate-600",children:"Email"}),(0,n.jsx)("input",{type:"email",value:a,onChange:e=>u(e.target.value),required:!0,autoComplete:"email",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm",placeholder:"you@example.com"})]}),(0,n.jsx)("button",{type:"submit",disabled:d,className:"inline-flex w-full items-center justify-center rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow hover:bg-blue-700 disabled:opacity-60",children:d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-2 inline-block animate-spin",children:"â³"}),e("form.sending")]}):e("form.sendLink")}),(0,n.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600",children:[e("backTo")," ",(0,n.jsx)(l.default,{href:"/auth/signin",className:"font-medium text-blue-700 hover:underline",children:t("form.signInBtn")})]})]})})]})})})}},71837:function(e,t,a){"use strict";a.d(t,{Sg:function(){return r},hF:function(){return d},hi:function(){return u},vL:function(){return h}});var n=a(40257);let r=(n.env.NEXT_PUBLIC_API_URL||n.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000").replace(/\/+$/,""),s="true"===(n.env.NEXT_PUBLIC_FORCE_DIRECT_API||"false"),o="true"===(n.env.NEXT_PUBLIC_SKIP_EMPLOYER_CHECK||"false");function i(e){return e?/^https?:\/\//i.test(e)?e:s?"".concat(r).concat(e.startsWith("/")?"":"/").concat(e):e.startsWith("/")?e:"".concat(r).concat(e.startsWith("/")?"":"/").concat(e):r}async function l(e){try{if((e.headers.get("content-type")||"").includes("application/json")){let t=await e.json().catch(()=>({}));return(null==t?void 0:t.message)||(null==t?void 0:t.error)||"HTTP ".concat(e.status)}return await e.text()||"HTTP ".concat(e.status)}catch(t){return"HTTP ".concat(e.status)}}async function c(e){try{if((e.headers.get("content-type")||"").includes("application/json"))return await e.json().catch(()=>({message:"Failed to parse error JSON"}));return{message:await e.text()||"HTTP ".concat(e.status)}}catch(t){return{message:"HTTP ".concat(e.status)}}}async function u(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{json:n,headers:r,expectJson:s=!0,...l}=a;try{if(String(e||"").toLowerCase().includes("/api/employers")&&(console.log("[TRACE][api] Employer endpoint called: ".concat(e)),console.trace(),o))throw Error("[SKIP_EMPLOYER_CHECK] skipped call to ".concat(e))}catch(e){console.warn("[TRACE][api] trace helper error (ignored):",e)}let u=new Headers(r||{}),d=l.body instanceof FormData;void 0===n||d||u.set("Content-Type","application/json");let h={credentials:"include",headers:u,...void 0!==n?{method:null!==(t=l.method)&&void 0!==t?t:"POST",body:JSON.stringify(n)}:{},...l},m=i(e),p=await fetch(m,h);if(!p.ok){let e=await c(p),t=Error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"HTTP ".concat(p.status));throw t.response={data:e,status:p.status,config:{url:m}},t}return 204!==p.status&&s?(p.headers.get("content-type")||"").includes("application/json")?await p.json():await p.text():null}async function d(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(String(e||"").toLowerCase().includes("/api/employers")&&(console.log("[TRACE][apiForm] Employer endpoint called: ".concat(e)),console.trace(),o))throw Error("[SKIP_EMPLOYER_CHECK] skipped call to ".concat(e))}catch(e){console.warn("[TRACE][apiForm] trace helper error (ignored):",e)}let n=i(e),r=await fetch(n,{method:"POST",body:t,credentials:"include",...a});if(!r.ok){let e=await c(r),t=Error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"HTTP ".concat(r.status));throw t.response={data:e,status:r.status,config:{url:n}},t}return(r.headers.get("content-type")||"").includes("application/json")?await r.json():null}async function h(){let e=function(e,t){if(!t)return e;let a=window.location.origin,n=new URL(e.startsWith("/")?"".concat(a).concat(e):e);for(let[e,a]of Object.entries(t))null!=a&&""!==a&&n.searchParams.set(e,String(a));return e.startsWith("/")?"".concat(n.pathname).concat(n.search):n.toString()}("".concat(r,"/api/rates"),{base:"USD",symbols:"IDR"}),t=await fetch(e,{cache:"no-store",credentials:"include"});if(!t.ok)throw Error("[".concat(t.status,"] ").concat(await l(t)));let a=await t.json().catch(()=>({})),n=Number(null==a?void 0:a.rate);if(!Number.isFinite(n))throw Error("Invalid rate");return n}},37920:function(e,t){"use strict";t.Z={src:"/_next/static/media/Ungu__1_-removebg-preview.b94c2985.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAeklEQVR42mNABrz9uxgZCAEeoCJhbAoFurdx8fbvDIbxhaYfYIQwpuwFM0RmHxIWmLrPim/y3kTRWYdEwWJT9zEyiMZOBikA0lPkRaMn6QlVr8wQKVpkANZcuRxhlWjSdDEglhe3ahAVC+kVZCAZiCZOY4RhscSpcKMB/ykhoS5GpJgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},38706:function(e,t,a){"use strict";a.d(t,{T_:function(){return s}});var n=a(64574);function r(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let s=r(0,n.T_);r(0,n.Gb)}},function(e){e.O(0,[4574,6933,3145,2971,2117,1744],function(){return e(e.s=11348)}),_N_E=e.O()}]);