(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8564],{48680:function(e,t,a){Promise.resolve().then(a.bind(a,61844))},99376:function(e,t,a){"use strict";var s=a(35475);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},61844:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(57437),l=a(2265),r=a(66237),n=a(92834),i=a(40257);let c=i.env.NEXT_PUBLIC_API_BASE||i.env.NEXT_PUBLIC_API_URL||"http://localhost:4000",d={submitted:0,rejected:0,hired:0},o=["submitted","rejected","hired"];function x(){let[e,t]=(0,l.useState)([]),[a,i]=(0,l.useState)(d),[x,u]=(0,l.useState)(null),[h,m]=(0,l.useState)(!0),[p,f]=(0,l.useState)({});async function j(){m(!0),u(null);let e=localStorage.getItem("ark_employer_id")||"";try{let a=(c||"").replace(/\/+$/,""),s=new URL("".concat(a,"/api/employers/applications")),l=new URLSearchParams(window.location.search).get("jobId");l&&s.searchParams.set("jobId",l);let r=await fetch(s.toString(),{credentials:"include",headers:{"X-Employer-Id":e}}),n=await r.json().catch(()=>({}));if(!r.ok){u((null==n?void 0:n.error)||"HTTP ".concat(r.status)),t([]),i(d);return}let o=(null==n?void 0:n.data)||n||{},x=Array.isArray(o.rows)?o.rows:[];t(x),i(g(x))}catch(e){u((null==e?void 0:e.message)||"Network error"),t([]),i(d)}finally{m(!1)}}(0,l.useEffect)(()=>{j()},[]);let b=e=>{if(!e)return"-";let t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString(void 0,{day:"2-digit",month:"short",year:"numeric"})},N=e=>{if(!e)return"#";let t=(c||"").replace(/\/+$/,"");return/^https?:\/\//i.test(e)?e:"".concat(t).concat(e.startsWith("/")?"":"/").concat(e)},g=e=>{let t={...d};for(let a of e){let e=a.status;o.includes(e)&&(t[e]+=1)}return t},v=async(a,s)=>{let l=(c||"").replace(/\/+$/,""),r=localStorage.getItem("ark_employer_id")||"",n=e.map(e=>e.id===a?{...e,status:s}:e);t(n),i(g(n)),f(e=>({...e,[a]:!0})),u(null);try{let e=await fetch("".concat(l,"/api/employers/applications/").concat(a),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json","X-Employer-Id":r},body:JSON.stringify({status:s})});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error((null==t?void 0:t.error)||"HTTP ".concat(e.status))}}catch(a){t(e),i(g(e)),u((null==a?void 0:a.message)||"Gagal memperbarui status")}finally{f(e=>({...e,[a]:!1}))}},y=e=>{confirm('Terima pelamar "'.concat(e.candidateName,'" untuk posisi ').concat(e.jobTitle,"?"))&&v(e.id,"hired")},k=e=>{confirm('Tolak pelamar "'.concat(e.candidateName,'" untuk posisi ').concat(e.jobTitle,"?"))&&v(e.id,"rejected")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{}),(0,s.jsx)("main",{className:"min-h-[60vh] bg-slate-50",children:(0,s.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[(0,s.jsx)("h1",{className:"mb-2 text-2xl font-semibold text-slate-900",children:"Applications"}),(0,s.jsx)("p",{className:"mb-6 text-sm text-slate-600",children:"Semua pelamar dari lowongan perusahaan Anda."}),(0,s.jsx)("div",{className:"mb-6 grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[{label:"SUBMITTED",val:a.submitted},{label:"REJECTED",val:a.rejected},{label:"HIRED",val:a.hired}].map(e=>(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,s.jsx)("div",{className:"text-xs font-medium text-slate-500",children:e.label}),(0,s.jsx)("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:e.val})]},e.label))}),(0,s.jsx)("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,s.jsx)("thead",{className:"border-b border-slate-200 bg-slate-50 text-slate-600",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Candidate"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Email"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Job"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"CV"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Actions"})]})}),(0,s.jsxs)("tbody",{children:[h&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-slate-600",children:"Loading…"})}),!h&&x&&(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:7,className:"px-4 py-8 text-center",children:[(0,s.jsxs)("span",{className:"text-rose-600",children:["Error: ",x]})," ",/^HTTP 401/.test(x)&&(0,s.jsxs)("span",{className:"text-slate-600",children:["– Kamu perlu login sebagai employer."," ",(0,s.jsx)("a",{href:"/employer/login",className:"text-blue-700 underline",children:"Login"})]})]})}),!h&&!x&&0===e.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-slate-600",children:"Belum ada pelamar."})}),!h&&!x&&e.map(e=>{let t=!!p[e.id],a=o.includes(e.status)?e.status:"submitted";return(0,s.jsxs)("tr",{className:"border-b last:border-0",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium text-slate-900",children:e.candidateName}),(0,s.jsx)("td",{className:"px-4 py-3 text-slate-700",children:e.candidateEmail||"-"}),(0,s.jsx)("td",{className:"px-4 py-3 text-slate-700",children:e.jobTitle}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs text-slate-700",children:e.status})}),(0,s.jsx)("td",{className:"px-4 py-3 text-slate-700",children:b(e.createdAt)}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.cv?(0,s.jsx)("a",{href:N(e.cv.url),target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline",children:e.cv.name||"CV"}):(0,s.jsx)("span",{className:"text-slate-400",children:"—"})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>y(e),disabled:t,className:"rounded-full px-3 py-1 text-xs font-medium text-white ".concat(t?"bg-green-400":"bg-green-600 hover:bg-green-700"," disabled:opacity-60"),title:"Terima (ubah status ke HIRED)",children:t?"Menyimpan…":"Terima"}),(0,s.jsx)("button",{onClick:()=>k(e),disabled:t,className:"rounded-full px-3 py-1 text-xs font-medium text-white ".concat(t?"bg-rose-400":"bg-rose-600 hover:bg-rose-700"," disabled:opacity-60"),title:"Tolak (ubah status ke REJECTED)",children:"Tolak"}),(0,s.jsx)("select",{value:a,disabled:t,onChange:t=>v(e.id,t.target.value),className:"rounded-full border border-slate-300 bg-white px-2 py-1 text-xs text-slate-700",title:"Ubah status cepat",children:o.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})})]},e.id)})]})]})}),(0,s.jsxs)("p",{className:"mt-3 text-xs text-slate-500",children:["Tip: tambahkan query ",(0,s.jsx)("code",{children:"?jobId=<JOB_ID>"})," untuk melihat pelamar 1 job tertentu."]})]})}),(0,s.jsx)(n.default,{})]})}},92834:function(e,t,a){"use strict";a.d(t,{default:function(){return o}});var s=a(57437),l=a(27648),r=a(33145),n=a(2265),i=a(99376),c=a(38706),d=a(79861);function o(){let e=(0,c.T_)(),t=(0,i.usePathname)();if((0,n.useMemo)(()=>!!t&&t.split("?")[0].split("#")[0].split("/").filter(Boolean).includes("admin"),[t]))return null;let a=new Date().getFullYear(),o="text-sm text-neutral-600 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white";return(0,s.jsx)("footer",{className:"mt-16 border-t border-neutral-200 bg-white/80 backdrop-blur dark:border-neutral-800 dark:bg-neutral-950/80",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(r.default,{src:d.Z,alt:e("footer.logoAlt"),className:"h-20 w-auto",priority:!0})}),(0,s.jsx)("p",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:e("footer.description")}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,s.jsx)(x,{href:"https://www.linkedin.com/company/hempart-indonesia-official1/posts/?feedView=all",label:e("footer.social.linkedin"),children:(0,s.jsx)("path",{d:"M4 3a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3 8h2v13H3V8Zm5 0h2v2h.03c.28-.53 1.02-1.09 2.1-1.09C14.76 8.91 16 10 16 12.33V21h-2v-7.3c0-1.37-.49-2.3-1.71-2.3-.93 0-1.49.63-1.73 1.24-.09.2-.11.48-.11.76V21H8V8Z"})}),(0,s.jsx)(x,{href:"mailto:info@hempartindonesia.com",label:e("footer.social.email"),children:(0,s.jsx)("path",{d:"M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2Zm8 7L4.5 6.5h15L12 11Z"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:e("footer.headings.product")}),(0,s.jsxs)("ul",{className:"mt-3 space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/jobs",className:o,children:e("footer.links.jobs")})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/tender",className:o,children:e("footer.links.tenders")})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/news",className:o,children:e("footer.links.news")})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:e("footer.headings.company")}),(0,s.jsxs)("ul",{className:"mt-3 space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/",className:o,children:e("footer.links.home")})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/about",className:o,children:e("footer.links.about")})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:e("footer.headings.legal")}),(0,s.jsxs)("ul",{className:"mt-3 space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/terms",className:o,children:e("footer.links.terms")})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/privacy",className:o,children:e("footer.links.privacy")})}),(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:"/cookies",className:o,children:e("footer.links.cookies")})})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex flex-col items-center justify-between gap-3 border-t border-neutral-200 pt-5 text-sm text-neutral-600 dark:border-neutral-800 dark:text-neutral-400 md:flex-row",children:[(0,s.jsx)("p",{children:e("footer.copyright",{year:a})}),(0,s.jsx)("p",{className:"opacity-80",children:e("footer.madeFor")})]})]})})}function x(e){let{href:t,label:a,children:l}=e;return(0,s.jsx)("a",{href:t,"aria-label":a,target:"_blank",rel:"noreferrer",className:"grid h-9 w-9 place-items-center rounded-lg border border-neutral-200 text-neutral-700 hover:bg-neutral-50 dark:border-neutral-800 dark:text-neutral-200 dark:hover:bg-neutral-900",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"currentColor","aria-hidden":!0,children:l})})}},79861:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.de754229.png",height:1181,width:1181,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEX////+/v79/v77/Pz6+/z5+/z4+fr3+Pn2+Prv9Pft8vbr8fXp7PHn6u/V4uvU3+nY3OXQ3unV2+TQ1uDG2OXK0t2/1OOvytxcedo0AAAAOUlEQVR42iWKxxHAIBDEdNg4mxz675Q52NVDD4GAEfSvA1FisVbteu7eDLAdp/c78NcU8jczWPUcAywbATl/7A2KAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},38706:function(e,t,a){"use strict";a.d(t,{T_:function(){return r}});var s=a(64574);function l(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let r=l(0,s.T_);l(0,s.Gb)}},function(e){e.O(0,[4574,6933,3145,4603,6237,2971,2117,1744],function(){return e(e.s=48680)}),_N_E=e.O()}]);