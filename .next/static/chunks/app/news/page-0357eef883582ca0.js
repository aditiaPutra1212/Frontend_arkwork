(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4834],{28516:function(e,a,s){Promise.resolve().then(s.bind(s,312))},312:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return n}});var t=s(57437),l=s(2265);async function r(e){var a;let s=new URLSearchParams;s.set("scope",e.scope),s.set("limit",String(e.limit)),s.set("country",e.country),s.set("when",e.when),(null===(a=e.keywords)||void 0===a?void 0:a.trim())&&s.set("keywords",e.keywords.trim());let t=await fetch("/api/news/energy?".concat(s.toString()),{cache:"no-store"});if(!t.ok)throw Error("HTTP ".concat(t.status));return t.json()}function n(){let[e,a]=(0,l.useState)([]),[s,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[d,c]=(0,l.useState)("id"),[u,x]=(0,l.useState)(15),[m,h]=(0,l.useState)("ID"),[p,g]=(0,l.useState)("14d"),[v,f]=(0,l.useState)(""),[j,b]=(0,l.useState)(""),y=(0,l.useMemo)(()=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"short",day:"2-digit"}),[]);async function N(){n(!0),o(null);try{let e=await r({scope:d,limit:u,country:m,when:p,keywords:v});a(e.items)}catch(a){var e;o(null!==(e=null==a?void 0:a.message)&&void 0!==e?e:"Gagal memuat berita.")}finally{n(!1)}}(0,l.useEffect)(()=>{N()},[]);let w=(0,l.useMemo)(()=>{let a=j.trim().toLowerCase();return a?e.filter(e=>{var s,t,l,r;return(null!==(s=e.title)&&void 0!==s?s:"").toLowerCase().includes(a)||(null!==(t=e.source)&&void 0!==t?t:"").toLowerCase().includes(a)||(null!==(l=e.description)&&void 0!==l?l:"").toLowerCase().includes(a)||(null!==(r=e.summary)&&void 0!==r?r:"").toLowerCase().includes(a)}):e},[e,j]),k=e=>{try{if(!e)return"";return new URL(e).hostname.replace(/^www\./,"")}catch(e){return""}},C=e=>(e.summary||e.description||"").replace(/\s+/g," ").trim(),S=e=>{if(!e)return"";let a=new Date(e);return isNaN(a.getTime())?e:y.format(a)};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 py-8",children:(0,t.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("h1",{className:"mb-6 text-3xl font-bold text-gray-900",children:"Energy News (Oil & Gas)"}),(0,t.jsxs)("div",{className:"mb-6 grid gap-3 rounded-lg bg-white p-4 shadow md:grid-cols-7 md:gap-4 md:p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wide text-gray-600",children:"Scope"}),(0,t.jsxs)("select",{className:"w-full rounded-lg border px-3 py-2 text-sm focus:border-gray-800 focus:outline-none",value:d,onChange:e=>c(e.target.value),children:[(0,t.jsx)("option",{value:"id",children:"Indonesia"}),(0,t.jsx)("option",{value:"global",children:"Global (Situs Intl)"}),(0,t.jsx)("option",{value:"both",children:"Keduanya"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wide text-gray-600",children:"Negara"}),(0,t.jsxs)("select",{className:"w-full rounded-lg border px-3 py-2 text-sm focus:border-gray-800 focus:outline-none",value:m,onChange:e=>h(e.target.value),title:"Pilih ALL untuk lintas negara",children:[(0,t.jsx)("option",{value:"ALL",children:"ALL (Global CEID)"}),(0,t.jsx)("option",{value:"ID",children:"Indonesia (ID)"}),(0,t.jsx)("option",{value:"US",children:"United States (US)"}),(0,t.jsx)("option",{value:"GB",children:"United Kingdom (GB)"}),(0,t.jsx)("option",{value:"AE",children:"United Arab Emirates (AE)"}),(0,t.jsx)("option",{value:"SG",children:"Singapore (SG)"}),(0,t.jsx)("option",{value:"AU",children:"Australia (AU)"}),(0,t.jsx)("option",{value:"CA",children:"Canada (CA)"}),(0,t.jsx)("option",{value:"DE",children:"Germany (DE)"}),(0,t.jsx)("option",{value:"FR",children:"France (FR)"}),(0,t.jsx)("option",{value:"JP",children:"Japan (JP)"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wide text-gray-600",children:"Periode"}),(0,t.jsxs)("select",{className:"w-full rounded-lg border px-3 py-2 text-sm focus:border-gray-800 focus:outline-none",value:p,onChange:e=>g(e.target.value),children:[(0,t.jsx)("option",{value:"7d",children:"7 hari"}),(0,t.jsx)("option",{value:"14d",children:"14 hari"}),(0,t.jsx)("option",{value:"30d",children:"30 hari"}),(0,t.jsx)("option",{value:"48h",children:"48 jam"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wide text-gray-600",children:"Limit"}),(0,t.jsx)("select",{className:"w-full rounded-lg border px-3 py-2 text-sm focus:border-gray-800 focus:outline-none",value:u,onChange:e=>x(Number(e.target.value)),children:[10,15,20,30,50].map(e=>(0,t.jsxs)("option",{value:e,children:[e," item"]},e))})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wide text-gray-600",children:"Kata Kunci"}),(0,t.jsx)("input",{placeholder:"Opsional; contoh: refinery OR LNG",className:"rounded-lg border px-3 py-2 text-sm focus:border-gray-800 focus:outline-none",value:v,onChange:e=>f(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] opacity-0 select-none",children:"Ambil"}),(0,t.jsx)("button",{onClick:N,className:"rounded-lg bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-60",disabled:s,children:s?"Memuat…":"Ambil Berita"})]}),(0,t.jsxs)("div",{className:"md:col-span-3 flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wide text-gray-600",children:"Pencarian Cepat"}),(0,t.jsx)("input",{placeholder:"Cari cepat di hasil (judul/sumber)…",className:"rounded-lg border px-3 py-2 text-sm focus:border-gray-800 focus:outline-none",value:j,onChange:e=>b(e.target.value)})]})]}),i&&(0,t.jsx)("div",{className:"mb-6 rounded border border-red-200 bg-red-50 p-3 text-red-700",children:i}),(0,t.jsxs)("section",{className:"rounded-xl bg-white shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b px-5 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-900",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:[(0,t.jsx)("path",{d:"M14 3v2h3.59L7 15.59 8.41 17 19 6.41V10h2V3zM5 5h6V3H3v8h2z"}),(0,t.jsx)("path",{d:"M19 19H5V8H3v13h18V10h-2z"})]}),(0,t.jsx)("span",{className:"font-semibold",children:"Berita Terbaru"})]}),j&&(0,t.jsx)("button",{onClick:()=>b(""),className:"text-sm text-gray-900 hover:underline",children:"Hapus filter cepat"})]}),s&&(0,t.jsx)("div",{className:"space-y-3 p-5",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"animate-pulse space-y-2 border-b pb-4 last:border-none",children:[(0,t.jsx)("div",{className:"h-4 w-2/3 rounded bg-gray-200"}),(0,t.jsx)("div",{className:"h-3 w-1/3 rounded bg-gray-200"}),(0,t.jsx)("div",{className:"h-3 w-full rounded bg-gray-100"})]},a))}),!s&&w.map((e,a)=>(0,t.jsxs)("article",{className:"border-b px-5 py-5 last:border-none md:px-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",className:"hover:underline",children:(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.title})}),(0,t.jsx)("span",{className:"inline-flex shrink-0 items-center rounded-full border px-2.5 py-1 text-xs text-gray-700",children:e.source||k(e.link)||"Sumber"})]}),(0,t.jsx)("p",{className:"mt-2 line-clamp-2 text-sm text-gray-600",children:C(e)||"…"}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between text-sm",children:[(0,t.jsx)("time",{className:"text-gray-500",children:S(e.pubDate||void 0)}),(0,t.jsxs)("a",{href:e.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-gray-900 hover:underline",children:["Buka Artikel",(0,t.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:[(0,t.jsx)("path",{d:"M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3z"}),(0,t.jsx)("path",{d:"M5 5h6V3H3v8h2z"})]})]})]})]},"".concat(e.link,"-").concat(a)))]}),!s&&!i&&0===w.length&&(0,t.jsx)("p",{className:"mt-10 text-center text-gray-500",children:"Tidak ada berita yang cocok."})]})})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=28516)}),_N_E=e.O()}]);