(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4349],{66731:function(e,a,t){Promise.resolve().then(t.bind(t,46600))},46600:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return C}});var l=t(57437),n=t(29),s=t.n(n),r=t(2265),i=t(84603),d=t(99376);let o=[{key:"Jan",label:"Januari"},{key:"Feb",label:"Februari"},{key:"Mar",label:"Maret"},{key:"Apr",label:"April"},{key:"Mei",label:"Mei"},{key:"Jun",label:"Juni"},{key:"Jul",label:"Juli"},{key:"Agu",label:"Agustus"},{key:"Sep",label:"September"},{key:"Okt",label:"Oktober"},{key:"Nov",label:"November"},{key:"Des",label:"Desember"}],c="ark_cv_drafts_struct_v2",u=["Reservoir Engineering","Drilling Engineer","Completion Engineer","Well Intervention / Workover","Production Engineer","Process Engineer (Upstream)","Process Engineer (Downstream)","Piping Engineer","Pipeline Engineer","Mechanical (Static)","Mechanical (Rotating)","Electrical Engineer","Instrumentation & Control","Automation / DCS / PLC","HSE / HSEQ","QA/QC","Construction","Pre-commissioning / Commissioning","Operations","Maintenance","Reliability","Subsea","Offshore","Onshore","Flow Assurance","SURF","FPSO","LNG","Gas Processing","Refinery","Petrochemical","Corrosion / Cathodic Protection","Welding / NDT","Fabrication","Marine","Procurement","Contracts","Supply Chain / Logistics","Planning / Scheduling (Primavera P6)","Cost Control","Document Control","Project Management"],x=["Safety Mindset (HSE)","Teamwork (Offshore/Onshore)","Communication","Leadership","Problem Solving","Decision Making","Risk Assessment","Time Management","Adaptability (Remote/Shift)","Stakeholder Management"];function m(e){let{children:a}=e;return(0,l.jsx)("label",{className:"mb-1.5 block text-sm font-medium text-neutral-800",children:a})}function h(e){let{className:a,...t}=e;return(0,l.jsx)("input",{...t,className:"w-full rounded-xl border border-neutral-300 bg-white px-3.5 py-2.5 text-sm text-neutral-900 placeholder-neutral-400 outline-none transition focus:border-neutral-900 ".concat(a||"")})}function p(e){let{className:a,children:t,...n}=e;return(0,l.jsx)("select",{...n,className:"w-full appearance-none rounded-xl border border-neutral-300 bg-white px-3.5 py-2.5 pr-8 text-sm outline-none focus:border-neutral-900 ".concat(a||""),children:t})}function b(e){let{className:a,...t}=e;return(0,l.jsx)("textarea",{...t,className:"w-full rounded-xl border border-neutral-300 bg-white px-3.5 py-2.5 text-sm text-neutral-900 placeholder-neutral-400 outline-none transition focus:border-neutral-900 ".concat(a||"")})}function g(e){let{toast:a,onClose:t}=e;if(!a)return null;let n="success"===a.type?"bg-green-50 text-green-800 border-green-200":"error"===a.type?"bg-red-50 text-red-700 border-red-200":"bg-neutral-50 text-neutral-700 border-neutral-200";return(0,l.jsx)("div",{className:"rounded-2xl border px-4 py-3 text-sm ".concat(n),children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,l.jsx)("span",{children:a.message}),(0,l.jsx)("button",{onClick:t,className:"text-xs opacity-70 hover:opacity-100",children:"✕"})]})})}function v(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)}function j(e,a,t,l,n){var s,r;let i=e?null===(s=o.find(a=>a.key===e))||void 0===s?void 0:s.label:"",d=t?null===(r=o.find(e=>e.key===t))||void 0===r?void 0:r.label:"",c=[i,a||""].filter(Boolean).join(" "),u=n?"Sekarang":[d,l||""].filter(Boolean).join(" ");return c||u?c&&!u?c:!c&&u?u:"".concat(c,"–").concat(u):""}function f(e){var a,t;let{items:n,onChange:s}=e,i={id:v(),title:"",org:"",tag:"",bullets:"",present:!1},[d,c]=(0,r.useState)(i),[u,x]=(0,r.useState)(null);function g(){c({...i,id:v()}),x(null)}return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-neutral-200 p-4",children:[(0,l.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Jabatan / Posisi"}),(0,l.jsx)(h,{value:d.title,onChange:e=>c({...d,title:e.target.value}),placeholder:"Production Engineer / Teknisi Software"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Organisasi / Perusahaan"}),(0,l.jsx)(h,{value:d.org,onChange:e=>c({...d,org:e.target.value}),placeholder:"PT Oilfield / UKM Robotik"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Label (opsional)"}),(0,l.jsx)(h,{value:d.tag||"",onChange:e=>c({...d,tag:e.target.value}),placeholder:"Organisasi / Magang / Full-time"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Tahun Mulai"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)(p,{value:d.startMonth||"",onChange:e=>c({...d,startMonth:e.target.value||void 0}),children:[(0,l.jsx)("option",{value:"",children:"Bulan"}),o.map(e=>(0,l.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,l.jsx)(h,{inputMode:"numeric",pattern:"\\d{4}",placeholder:"2024",value:null!==(a=d.startYear)&&void 0!==a?a:"",onChange:e=>c({...d,startYear:e.target.value?Number(e.target.value):void 0})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Tahun Selesai"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)(p,{value:d.present?"":d.endMonth||"",onChange:e=>c({...d,endMonth:e.target.value||void 0}),disabled:d.present,children:[(0,l.jsx)("option",{value:"",children:"Bulan"}),o.map(e=>(0,l.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,l.jsx)(h,{inputMode:"numeric",pattern:"\\d{4}",placeholder:"2025",value:d.present?"":null!==(t=d.endYear)&&void 0!==t?t:"",onChange:e=>c({...d,endYear:e.target.value?Number(e.target.value):void 0}),disabled:d.present})]}),(0,l.jsxs)("label",{className:"mt-2 inline-flex items-center gap-2 text-xs text-neutral-700",children:[(0,l.jsx)("input",{type:"checkbox",checked:d.present||!1,onChange:e=>c({...d,present:e.target.checked})}),"Sampai sekarang"]})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)(m,{children:"Deskripsi (1 baris = 1 bullet)"}),(0,l.jsx)(b,{value:d.bullets||"",onChange:e=>c({...d,bullets:e.target.value}),placeholder:"Contoh:\nMonitoring produksi harian...\nKoordinasi dengan tim operasi offshore...",rows:4})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:function(){d.title.trim()&&(u?s(n.map(e=>e.id===u?d:e)):s([...n,d]),g())},className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800",children:u?"Simpan Perubahan":"Tambah Pengalaman"}),u&&(0,l.jsx)("button",{onClick:g,className:"rounded-xl border border-neutral-300 px-3 py-2 text-sm text-neutral-800 hover:bg-neutral-50",children:"Batal"})]})]}),n.length>0&&(0,l.jsx)("ul",{className:"space-y-2",children:n.map(e=>(0,l.jsxs)("li",{className:"flex items-center justify-between rounded-xl border border-neutral-200 p-3",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-neutral-900",children:[e.title," ",e.org?(0,l.jsxs)("span",{className:"text-neutral-700",children:["\xb7 ",e.org]}):null]}),(0,l.jsx)("p",{className:"text-xs text-neutral-600",children:j(e.startMonth,e.startYear,e.endMonth,e.endYear,e.present)})]}),(0,l.jsxs)("div",{className:"shrink-0 space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{c({...e}),x(e.id)},className:"rounded-lg border border-neutral-300 px-2 py-1 text-xs hover:bg-neutral-50",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>{var a;return a=e.id,void(s(n.filter(e=>e.id!==a)),u===a&&g())},className:"rounded-lg border border-red-300 px-2 py-1 text-xs text-red-700 hover:bg-red-50",children:"Hapus"})]})]},e.id))})]})}function N(e){var a,t;let{items:n,onChange:s}=e,i={id:v(),school:"",degree:"",gpa:"",present:!1},[d,o]=(0,r.useState)(i),[c,u]=(0,r.useState)(null);function x(){o({...i,id:v()}),u(null)}return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-neutral-200 p-4",children:[(0,l.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Institusi"}),(0,l.jsx)(h,{value:d.school,onChange:e=>o({...d,school:e.target.value}),placeholder:"Universitas / Politeknik"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Program / Gelar"}),(0,l.jsx)(h,{value:d.degree||"",onChange:e=>o({...d,degree:e.target.value}),placeholder:"S1 Teknik Perminyakan"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"IPK"}),(0,l.jsx)(h,{value:d.gpa||"",onChange:e=>o({...d,gpa:e.target.value}),placeholder:"3.75"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Tahun Mulai"}),(0,l.jsx)(h,{inputMode:"numeric",pattern:"\\d{4}",placeholder:"2021",value:null!==(a=d.startYear)&&void 0!==a?a:"",onChange:e=>o({...d,startYear:e.target.value?Number(e.target.value):void 0})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Tahun Selesai"}),(0,l.jsx)(h,{inputMode:"numeric",pattern:"\\d{4}",placeholder:"2025",value:d.present?"":null!==(t=d.endYear)&&void 0!==t?t:"",onChange:e=>o({...d,endYear:e.target.value?Number(e.target.value):void 0}),disabled:d.present}),(0,l.jsxs)("label",{className:"mt-2 inline-flex items-center gap-2 text-xs text-neutral-700",children:[(0,l.jsx)("input",{type:"checkbox",checked:d.present||!1,onChange:e=>o({...d,present:e.target.checked})}),"Sampai sekarang"]})]})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:function(){d.school.trim()&&(c?s(n.map(e=>e.id===c?d:e)):s([...n,d]),x())},className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800",children:c?"Simpan Perubahan":"Tambah Pendidikan"}),c&&(0,l.jsx)("button",{onClick:x,className:"rounded-xl border border-neutral-300 px-3 py-2 text-sm text-neutral-800 hover:bg-neutral-50",children:"Batal"})]})]}),n.length>0&&(0,l.jsx)("ul",{className:"space-y-2",children:n.map(e=>(0,l.jsxs)("li",{className:"flex items-center justify-between rounded-xl border border-neutral-200 p-3",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-neutral-900",children:[e.school," ",e.degree?(0,l.jsxs)("span",{className:"text-neutral-700",children:["\xb7 ",e.degree]}):null]}),(0,l.jsxs)("p",{className:"text-xs text-neutral-600",children:[e.gpa?"IPK ".concat(e.gpa," \xb7 "):"",j(void 0,e.startYear,void 0,e.endYear,e.present)]})]}),(0,l.jsxs)("div",{className:"shrink-0 space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{o({...e}),u(e.id)},className:"rounded-lg border border-neutral-300 px-2 py-1 text-xs hover:bg-neutral-50",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>{var a;return a=e.id,void(s(n.filter(e=>e.id!==a)),c===a&&x())},className:"rounded-lg border border-red-300 px-2 py-1 text-xs text-red-700 hover:bg-red-50",children:"Hapus"})]})]},e.id))})]})}function k(e){let{children:a}=e;return(0,l.jsx)("h2",{className:"mb-2 border-b border-neutral-300 pb-1 text-[12.5px] font-semibold tracking-wide text-neutral-800 uppercase",children:a})}function y(e){let{items:a}=e;return a.length?(0,l.jsx)("div",{className:"space-y-4",children:a.map(e=>{let a=j(e.startMonth,e.startYear,e.endMonth,e.endYear,e.present),t=(e.bullets||"").split("\n").map(e=>e.trim()).filter(Boolean);return(0,l.jsxs)("div",{className:"break-inside-avoid",children:[(0,l.jsxs)("div",{className:"grid grid-cols-[1fr_auto] items-start gap-3",children:[(0,l.jsx)("p",{className:"text-[13px] font-semibold text-neutral-900 min-w-0 break-words",children:e.title}),a?(0,l.jsx)("p",{className:"text-[12px] text-neutral-600 whitespace-nowrap tabular-nums justify-self-end",children:a}):null]}),(e.org||e.tag)&&(0,l.jsx)("p",{className:"mt-0.5 text-[12.5px] text-neutral-700",children:[e.org,e.tag].filter(Boolean).join(" \xb7 ")}),t.length>0&&(0,l.jsx)("ul",{className:"mt-1 list-disc pl-5 text-[13px] leading-6 text-neutral-800",children:t.map((e,a)=>(0,l.jsx)("li",{children:e},a))})]},e.id)})}):(0,l.jsx)("p",{className:"text-[13px] text-neutral-700",children:"—"})}function w(e){let{items:a}=e;return a.length?(0,l.jsx)("div",{className:"space-y-4",children:a.map(e=>{let a=j(void 0,e.startYear,void 0,e.endYear,e.present);return(0,l.jsxs)("div",{className:"break-inside-avoid",children:[(0,l.jsxs)("div",{className:"grid grid-cols-[1fr_auto] items-start gap-3",children:[(0,l.jsx)("p",{className:"text-[13px] font-semibold text-neutral-900 min-w-0 break-words",children:e.school}),a?(0,l.jsx)("p",{className:"text-[12px] text-neutral-600 whitespace-nowrap tabular-nums justify-self-end",children:a}):null]}),(e.degree||e.gpa)&&(0,l.jsx)("p",{className:"mt-0.5 text-[12.5px] text-neutral-700",children:[e.degree,e.gpa?"IPK ".concat(e.gpa):""].filter(Boolean).join(" \xb7 ")})]},e.id)})}):(0,l.jsx)("p",{className:"text-[13px] text-neutral-700",children:"—"})}function S(e){var a;let{onClose:n,data:r}=e,i=(r.hardSkillsCsv||((null===(a=r.skills)||void 0===a?void 0:a.length)?r.skills.join(", "):"")).trim(),d=(r.softSkillsCsv||"").trim(),o=async()=>{let e=document.querySelector(".cv-a4");if(!e)return;let a=(await Promise.all([t.e(3125),t.e(2505),t.e(3632),t.e(7337),t.e(8758)]).then(t.t.bind(t,41690,23))).default,l=(r.name||"CV_ATS").replace(/\s+/g,"_");await a().set({margin:0,filename:"".concat(l,".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollX:0,scrollY:0,windowWidth:e.scrollWidth,windowHeight:e.scrollHeight,letterRendering:!0},pagebreak:{mode:["avoid-all","css","legacy"]},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(e).save()};return(0,l.jsxs)("div",{role:"dialog","aria-modal":"true",className:"jsx-bdb63748dc2ec796 fixed inset-0 z-50 grid place-items-center",children:[(0,l.jsx)("div",{"data-modal-chrome":!0,onClick:n,className:"jsx-bdb63748dc2ec796 absolute inset-0 bg-black/40 print:hidden"}),(0,l.jsxs)("div",{className:"jsx-bdb63748dc2ec796 relative m-3 w-[min(95vw,900px)] overflow-hidden rounded-2xl bg-white shadow-2xl",children:[(0,l.jsxs)("div",{"data-modal-chrome":!0,className:"jsx-bdb63748dc2ec796 flex items-center justify-between border-b border-neutral-200 px-4 py-3 print:hidden",children:[(0,l.jsx)("div",{className:"jsx-bdb63748dc2ec796 text-sm font-medium text-neutral-800",children:"Preview CV"}),(0,l.jsxs)("div",{className:"jsx-bdb63748dc2ec796 flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:o,className:"jsx-bdb63748dc2ec796 rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800",children:"Download PDF"}),(0,l.jsx)("button",{onClick:n,className:"jsx-bdb63748dc2ec796 rounded-xl border border-neutral-300 px-3 py-2 text-sm hover:bg-neutral-50",children:"Tutup"})]})]}),(0,l.jsx)("div",{className:"jsx-bdb63748dc2ec796 cv-scroll max-h-[82vh] overflow-auto p-4 print:p-0",children:(0,l.jsxs)("div",{className:"jsx-bdb63748dc2ec796 cv-a4 mx-auto bg-white shadow avoid-break",children:[(0,l.jsxs)("header",{className:"jsx-bdb63748dc2ec796 px-9 pt-10 pb-4 border-b border-neutral-300",children:[(0,l.jsx)("h1",{className:"jsx-bdb63748dc2ec796 text-[18px] font-extrabold tracking-widest uppercase text-neutral-900",children:r.name||"Nama Lengkap"}),(0,l.jsxs)("p",{className:"jsx-bdb63748dc2ec796 mt-1 text-[12.5px] text-neutral-700",children:[r.location?"".concat(r.location," | "):"",r.email,r.phone?" | ".concat(r.phone):""]}),r.about&&(0,l.jsx)("p",{className:"jsx-bdb63748dc2ec796 mt-3 text-[13px] leading-6 text-neutral-800",children:r.about})]}),(0,l.jsxs)("section",{className:"jsx-bdb63748dc2ec796 px-9 py-6",children:[(0,l.jsxs)("section",{className:"jsx-bdb63748dc2ec796 mb-5 break-inside-avoid avoid-break",children:[(0,l.jsx)(k,{children:"PENGALAMAN"}),(0,l.jsx)(y,{items:r.experiences})]}),(0,l.jsxs)("section",{className:"jsx-bdb63748dc2ec796 mb-5 break-inside-avoid avoid-break",children:[(0,l.jsx)(k,{children:"PENDIDIKAN"}),(0,l.jsx)(w,{items:r.educations})]}),(0,l.jsxs)("section",{className:"jsx-bdb63748dc2ec796 mb-5 break-inside-avoid avoid-break",children:[(0,l.jsx)(k,{children:"KEAHLIAN"}),(0,l.jsxs)("div",{className:"jsx-bdb63748dc2ec796 space-y-1.5 text-[13px] leading-6 text-neutral-800",children:[(0,l.jsxs)("p",{className:"jsx-bdb63748dc2ec796",children:[(0,l.jsx)("span",{className:"jsx-bdb63748dc2ec796 font-semibold",children:"Hard Skills"})," : ",i||"—"]}),(0,l.jsxs)("p",{className:"jsx-bdb63748dc2ec796",children:[(0,l.jsx)("span",{className:"jsx-bdb63748dc2ec796 font-semibold",children:"Soft Skills"})," : ",d||"—"]})]})]})]})]})})]}),(0,l.jsx)(s(),{id:"bdb63748dc2ec796",children:'.cv-a4,.cv-a4 *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cv-a4{width:210mm;min-height:297mm;padding:12mm 14mm;background:#fff;border:1px solid#e5e7eb;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 10px 30px rgba(0,0,0,.06);-moz-box-shadow:0 10px 30px rgba(0,0,0,.06);box-shadow:0 10px 30px rgba(0,0,0,.06)}.avoid-break{page-break-inside:avoid}@media print{.print\\\\:hidden,[data-modal-chrome],body>div[role="dialog"]>div:first-child{display:none!important}.cv-scroll{max-height:none!important;overflow:visible!important;padding:0!important}.cv-a4{width:210mm!important;min-height:297mm!important;border:0!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;border-radius:0!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}@page{size:A4;margin:0}}'})]})}function C(){let[e,a]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{a(!0)},[]),e)?(0,l.jsx)(P,{}):null}function P(){var e;let{user:a}=(0,i.a)(),t=(0,d.useRouter)(),n=null!==(e=null==a?void 0:a.email)&&void 0!==e?e:null,s=!n;(0,r.useEffect)(()=>{if(s){let e=setTimeout(()=>t.replace("/auth/signin"),50);return()=>clearTimeout(e)}},[s,t]);let[o,p]=(0,r.useState)(""),[v,j]=(0,r.useState)(""),[k,y]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[P,E]=(0,r.useState)([]),[O,D]=(0,r.useState)([]),[T,A]=(0,r.useState)(""),[Y,I]=(0,r.useState)(""),[R,_]=(0,r.useState)([]),[B,H]=(0,r.useState)(null),[K,J]=(0,r.useState)(!1),[z,L]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if(!B)return;let e=setTimeout(()=>H(null),2200);return()=>clearTimeout(e)},[B]),(0,r.useEffect)(()=>{if(n)try{var e,a,t,l,s,r,i,d,o,u;let x=JSON.parse(null!==(e=localStorage.getItem(c))&&void 0!==e?e:"{}")[n];if(x)p(x.name||""),y(x.phone||""),j(x.location||""),C(x.about||""),E(x.experiences||[]),D(x.educations||[]),A(x.hardSkillsCsv||""),I(x.softSkillsCsv||""),_(x.skills||[]);else{let e=JSON.parse(null!==(a=localStorage.getItem("ark_users"))&&void 0!==a?a:"[]").find(e=>e.email===n);if(e){p(e.name||""),y(null!==(i=null==e?void 0:null===(t=e.profile)||void 0===t?void 0:t.phone)&&void 0!==i?i:""),j(null!==(d=null==e?void 0:null===(l=e.profile)||void 0===l?void 0:l.location)&&void 0!==d?d:""),C(null!==(o=null==e?void 0:null===(s=e.profile)||void 0===s?void 0:s.about)&&void 0!==o?o:"");let a=String(null!==(u=null==e?void 0:null===(r=e.profile)||void 0===r?void 0:r.skills)&&void 0!==u?u:"").split(",").map(e=>e.trim()).filter(Boolean);_(a),!T&&a.length&&A(a.join(", "))}}}catch(e){}},[n]),s)?(0,l.jsx)("div",{className:"grid min-h-[60vh] place-items-center px-4",children:(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("p",{className:"text-sm text-neutral-600",children:"Mengarahkan ke halaman masuk…"})})}):(0,l.jsxs)("div",{className:"min-h-screen bg-neutral-50 py-10",children:[(0,l.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6 px-4 sm:px-6",children:[(0,l.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:(0,l.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-neutral-900",children:"Buat CV (ATS)"})}),(0,l.jsx)(g,{toast:B,onClose:()=>H(null)}),(0,l.jsx)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm",children:(0,l.jsxs)("div",{className:"grid gap-5 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Nama Lengkap"}),(0,l.jsx)(h,{value:o,onChange:e=>p(e.target.value),placeholder:"Nama lengkap"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Email"}),(0,l.jsx)(h,{readOnly:!0,value:null!=n?n:"",className:"bg-neutral-100"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)(m,{children:"Lokasi"}),(0,l.jsx)(M,{value:v,onChange:j})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Nomor HP"}),(0,l.jsx)(h,{value:k,onChange:e=>y(e.target.value),placeholder:"08xxxx"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)(m,{children:"Ringkasan (About)"}),(0,l.jsx)(b,{value:w,onChange:e=>C(e.target.value),placeholder:"Tuliskan ringkasan singkat (1–3 kalimat)."})]})]})}),(0,l.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm",children:[(0,l.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",children:"Pengalaman"})}),(0,l.jsx)(f,{items:P,onChange:E})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm",children:[(0,l.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",children:"Pendidikan"})}),(0,l.jsx)(N,{items:O,onChange:D})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"mb-3 text-lg font-semibold text-neutral-900",children:"Keahlian (Oil & Gas)"}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Hard Skills (CSV)"}),(0,l.jsx)(h,{value:T,onChange:e=>A(e.target.value),placeholder:"Reservoir Engineering, Drilling Engineer,..."}),(0,l.jsx)("div",{className:"mt-2 flex max-h-36 flex-wrap gap-2 overflow-auto",children:u.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>A(a=>a.split(",").map(e=>e.trim()).filter(Boolean).includes(e)?a:(a?a+", ":"")+e),className:"rounded-full border border-neutral-300 px-3 py-1 text-xs text-neutral-700 hover:bg-neutral-50",children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{children:"Soft Skills (CSV)"}),(0,l.jsx)(h,{value:Y,onChange:e=>I(e.target.value),placeholder:"Safety Mindset (HSE), Teamwork (Offshore/Onshore), ..."}),(0,l.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:x.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>I(a=>a.split(",").map(e=>e.trim()).filter(Boolean).includes(e)?a:(a?a+", ":"")+e),className:"rounded-full border border-neutral-300 px-3 py-1 text-xs text-neutral-700 hover:bg-neutral-50",children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>L(!0),className:"rounded-xl border border-neutral-300 px-4 py-2 text-sm font-medium text-neutral-800 hover:bg-neutral-50",children:"Preview & Download"}),(0,l.jsx)("button",{onClick:function(){if(n){J(!0);try{var e;let a=JSON.parse(null!==(e=localStorage.getItem(c))&&void 0!==e?e:"{}");a[n]={name:o,email:n,location:v,phone:k,about:w,experiences:P,educations:O,hardSkillsCsv:T,softSkillsCsv:Y,skills:R},localStorage.setItem(c,JSON.stringify(a)),H({type:"success",message:"Draft CV tersimpan."})}catch(e){H({type:"error",message:"Gagal menyimpan draft."})}finally{J(!1)}}},disabled:K,className:"rounded-xl bg-neutral-900 px-5 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-60",children:K?"Menyimpan…":"Simpan Draft"}),(0,l.jsx)("button",{onClick:function(){p(""),j(""),y(""),C(""),E([]),D([]),A(""),I(""),_([])},className:"rounded-xl border border-neutral-300 px-3 py-2 text-sm text-neutral-800 hover:bg-neutral-50",children:"Kosongkan Semua"})]})]}),z&&(0,l.jsx)(S,{onClose:()=>L(!1),data:{name:o,email:n,location:v,phone:k,about:w,experiences:P,educations:O,hardSkillsCsv:T,softSkillsCsv:Y,skills:R}})]})}function M(e){let{value:a,onChange:t,labelProv:n="Provinsi",labelKab:s="Kabupaten/Kota",labelKec:i="Kecamatan"}=e,[d,o]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[h,p]=(0,r.useState)(null),[b,g]=(0,r.useState)(null),[v,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/wilayah/provinces"),a=await e.json();o(a.items||[])}catch(e){o([])}})()},[]),(0,r.useEffect)(()=>{if(!h){u([]),g(null),m([]),j(null);return}(async()=>{try{let e=await fetch("/api/wilayah/regencies/".concat(h.id)),a=await e.json();u(a.items||[]),g(null),m([]),j(null)}catch(e){u([]),g(null)}})()},[null==h?void 0:h.id]),(0,r.useEffect)(()=>{if(!b){m([]),j(null);return}(async()=>{try{let e=await fetch("/api/wilayah/districts/".concat(b.id)),a=await e.json();m(a.items||[]),j(null)}catch(e){m([]),j(null)}})()},[null==b?void 0:b.id]),(0,r.useEffect)(()=>{t([null==v?void 0:v.name,null==b?void 0:b.name,null==h?void 0:h.name].filter(Boolean).join(", "))},[h,b,v]);let f=e=>{let{value:a,setValue:t,options:n,placeholder:s,disabled:r}=e;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:(null==a?void 0:a.id)||"",onChange:e=>{let a=e.target.value;t(n.find(e=>e.id===a)||null)},disabled:r,className:"w-full appearance-none rounded-xl border border-neutral-300 bg-white px-3.5 py-2.5 pr-10 text-sm outline-none focus:border-neutral-900 disabled:bg-neutral-100 disabled:text-neutral-500",children:[(0,l.jsx)("option",{value:"",children:s}),n.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,l.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500",children:"▾"})]})};return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"mb-1 block text-sm text-neutral-700",children:n}),(0,l.jsx)(f,{value:h,setValue:p,options:d,placeholder:"Pilih provinsi…"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"mb-1 block text-sm text-neutral-700",children:s}),(0,l.jsx)(f,{value:b,setValue:g,options:c,placeholder:"Pilih kab/kota…",disabled:!h})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"mb-1 block text-sm text-neutral-700",children:i}),(0,l.jsx)(f,{value:v,setValue:j,options:x,placeholder:"Pilih kecamatan…",disabled:!b})]})]}),a&&(0,l.jsxs)("div",{className:"text-xs text-neutral-600",children:["Dipilih: ",(0,l.jsx)("span",{className:"font-medium",children:a})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"button",onClick:()=>{p(null),g(null),j(null),t("Remote")},className:"rounded-lg border border-neutral-300 px-3 py-1.5 text-xs text-neutral-700 hover:bg-neutral-50",children:"Pilih “Remote”"})})]})}}},function(e){e.O(0,[4847,4603,2971,2117,1744],function(){return e(e.s=66731)}),_N_E=e.O()}]);